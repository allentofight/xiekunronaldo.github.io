
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Swift - AllenToFight Blog</title>
	<meta name="author" content="AllenToFight">

	
	<meta name="description" content="Swift 变量定义 常量用let,变量用var 1
2
3
4
var myVariable = 42
myVariable = 50
let myConstant = 42
let explicitDouble: Double = 70 变量的值不会自动转化为其他类型的 1
2
3
let &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="AllenToFight Blog" type="application/atom+xml">
	
	<link rel="canonical" href="http://xiekunRonaldo.github.io/blog/2014/08/12/swift/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<img src="http://www.gravatar.com/avatar/27a0140c11f18fab9bf284743d2b2b4c?s=160" alt="Profile Picture" style="width: 160px;" />
	
</div>
<hgroup>
  <h1><a href="/">AllenToFight Blog</a></h1>
  
    <h2>Life To Code.</h2>
  
</hgroup>

<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="weibo" href="http://www.weibo.com/1876496750" title="Weibo">Facebook</a>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Swift</h1>
	<div class="entry-content" itemprop="articleBody"><h4>变量定义</h4>

<p>常量用let,变量用var</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var myVariable = 42
</span><span class='line'>myVariable = 50
</span><span class='line'>let myConstant = 42
</span><span class='line'>let explicitDouble: Double = 70
</span></code></pre></td></tr></table></div></figure>


<p>变量的值不会自动转化为其他类型的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let label = "The width is "
</span><span class='line'>let width = 94
</span><span class='line'>let widthLabel = label+String(width)</span></code></pre></td></tr></table></div></figure>


<p>String内的值替换</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let apples = 3
</span><span class='line'>let oranges = 5
</span><span class='line'>let appleSummary = "I have \(apples) apples.”</span></code></pre></td></tr></table></div></figure>


<p>数组和字典</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var shoppingList = ["catfish", "water", "tulips", "blue paint"]
</span><span class='line'>
</span><span class='line'>shoppingList[1] = "bottle of water"
</span><span class='line'> 
</span><span class='line'>var occupations = [
</span><span class='line'>
</span><span class='line'>    "Malcolm": "Captain",
</span><span class='line'>
</span><span class='line'>    "Kaylee": "Mechanic",
</span><span class='line'>]
</span><span class='line'>occupations["Jayne"] = "Public Relations”
</span><span class='line'>
</span><span class='line'>let emptyArray = String[]()
</span><span class='line'>let emptyDictionary = Dictionary&lt;String, Float&gt;()
</span></code></pre></td></tr></table></div></figure>


<p>如果类型是能推断的，可以用[]创建一个空数组，用[:]创建一个空字典</p>

<h4>条件语句</h4>

<p>if&hellip;else&hellip;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let individualScores = [75, 43, 103, 87, 12]
</span><span class='line'>var teamScore = 0
</span><span class='line'>for score in individualScores {
</span><span class='line'>    if score &gt; 50 {
</span><span class='line'>        teamScore += 3
</span><span class='line'>    } else {
</span><span class='line'>        teamScore += 1
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>teamScore</span></code></pre></td></tr></table></div></figure>


<p>注意，在if条件语句中，condition必须是bool表达式，所以类似<code>if score {...}</code>这样的代码是错误的
if和optional value组成的条件表达式</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var optionalString: String? = "Hello"
</span><span class='line'>optionalString == nil
</span><span class='line'> 
</span><span class='line'>var optionalName: String? = "John Appleseed"
</span><span class='line'>var greeting = "Hello!"
</span><span class='line'>if let name = optionalName {
</span><span class='line'>    greeting = "Hello, \(name)"
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>switch和case语句支持多种类型的比较,不限于integer</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let vegetable = "red pepper"
</span><span class='line'>switch vegetable {
</span><span class='line'>case "celery":
</span><span class='line'>    let vegetableComment = "Add some raisins and make ants on a log."
</span><span class='line'>case "cucumber", "watercress":
</span><span class='line'>    let vegetableComment = "That would make a good tea sandwich."
</span><span class='line'>case let x where x.hasSuffix("pepper"):
</span><span class='line'>    let vegetableComment = "Is it a spicy \(x)?"
</span><span class='line'>default:
</span><span class='line'>    let vegetableComment = "Everything tastes good in soup."
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>注意:执行完case语句，程序就从switch语句里终止了，所以无需break!</p>

<p>遍历dictionary</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let interestingNumbers = [
</span><span class='line'>    "Prime": [2, 3, 5, 7, 11, 13],
</span><span class='line'>    "Fibonacci": [1, 1, 2, 3, 5, 8],
</span><span class='line'>    "Square": [1, 4, 9, 16, 25],
</span><span class='line'>]
</span><span class='line'>var largest = 0
</span><span class='line'>for (kind, numbers) in interestingNumbers {
</span><span class='line'>    for number in numbers {
</span><span class='line'>        if number &gt; largest {
</span><span class='line'>            largest = number
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>largest</span></code></pre></td></tr></table></div></figure>


<p>while语句</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var n = 2
</span><span class='line'>while n &lt; 100 {
</span><span class='line'>    n = n * 2
</span><span class='line'>}
</span><span class='line'>n
</span><span class='line'> 
</span><span class='line'>var m = 2
</span><span class='line'>do {
</span><span class='line'>    m = m * 2
</span><span class='line'>} while m &lt; 100
</span><span class='line'>m</span></code></pre></td></tr></table></div></figure>


<p><code>..</code>的妙用,以下两个循环是等价的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var firstForLoop = 0
</span><span class='line'>for i in 0..3 {
</span><span class='line'>    firstForLoop += i
</span><span class='line'>}
</span><span class='line'>firstForLoop
</span><span class='line'> 
</span><span class='line'>var secondForLoop = 0
</span><span class='line'>for var i = 0; i &lt; 3; ++i {
</span><span class='line'>    secondForLoop += 1
</span><span class='line'>}
</span><span class='line'>secondForLoop</span></code></pre></td></tr></table></div></figure>


<h4>函数和闭包</h4>

<p>函数的声明
用->将参数与返回值区分开来</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func greet(name: String, day: String) -&gt; String {
</span><span class='line'>    return "Hello \(name), today is \(day)."
</span><span class='line'>}
</span><span class='line'>greet("Bob", "Tuesday")</span></code></pre></td></tr></table></div></figure>


<p>用tuple从函数中返回多个值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func getGasPrices() -&gt; (Double, Double, Double) {
</span><span class='line'>    return (3.59, 3.69, 3.79)
</span><span class='line'>}
</span><span class='line'>getGasPrices()</span></code></pre></td></tr></table></div></figure>


<p>函数也能接收不定数量的参数，将它们封成到一个数组里</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func sumOf(numbers: Int...) -&gt; Int {
</span><span class='line'>    var sum = 0
</span><span class='line'>    for number in numbers {
</span><span class='line'>        sum += number
</span><span class='line'>    }
</span><span class='line'>    return sum
</span><span class='line'>}
</span><span class='line'>sumOf()
</span><span class='line'>sumOf(42, 597, 12)</span></code></pre></td></tr></table></div></figure>


<p>函数也能嵌套，内嵌的函数能访问声明在外部函数的变量</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func returnFifteen() -&gt; Int {
</span><span class='line'>    var y = 10
</span><span class='line'>    func add() {
</span><span class='line'>        y += 5
</span><span class='line'>    }
</span><span class='line'>    add()
</span><span class='line'>    return y
</span><span class='line'>}
</span><span class='line'>returnFifteen()</span></code></pre></td></tr></table></div></figure>


<p>函数是first-class类型，这意味着函数也能返回另一个函数</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func makeIncrementer() -&gt; (Int -&gt; Int) {
</span><span class='line'>    func addOne(number: Int) -&gt; Int {
</span><span class='line'>        return 1 + number
</span><span class='line'>    }
</span><span class='line'>    return addOne
</span><span class='line'>}
</span><span class='line'>var increment = makeIncrementer()
</span><span class='line'>increment(7)</span></code></pre></td></tr></table></div></figure>


<p>函数的参数也能是函数</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func hasAnyMatches(list: Int[], condition: Int -&gt; Bool) -&gt; Bool {
</span><span class='line'>    for item in list {
</span><span class='line'>        if condition(item) {
</span><span class='line'>            return true
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return false
</span><span class='line'>}
</span><span class='line'>func lessThanTen(number: Int) -&gt; Bool {
</span><span class='line'>    return number &lt; 10
</span><span class='line'>}
</span><span class='line'>var numbers = [20, 19, 7, 12]
</span><span class='line'>hasAnyMatches(numbers, lessThanTen)</span></code></pre></td></tr></table></div></figure>


<p>函数实际上是闭包的一种特殊形式，我们可以用{}来写一个匿名的闭包,用in来将参数和返回类型区分开来</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>numbers.map({
</span><span class='line'>    (number: Int) -&gt; Int in
</span><span class='line'>    let result = 3 * number
</span><span class='line'>    return result
</span><span class='line'>    })</span></code></pre></td></tr></table></div></figure>


<p>如果一个closure的类型是已知的，比如已知一个delegate的回调，我们可以省略参数的类型，返回类型或两者都省略,以上可以改写成以下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>numbers.map({ number in 3 * number })</span></code></pre></td></tr></table></div></figure>


<p>我们也可以用数字而不是名字来表示参数</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sort([1, 5, 3, 12, 2]) { $0 &gt; $1 }</span></code></pre></td></tr></table></div></figure>


<h4>对象和类</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Shape {
</span><span class='line'>    var numberOfSides = 0
</span><span class='line'>    func simpleDescription() -&gt; String {
</span><span class='line'>        return "A shape with \(numberOfSides) sides."
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>var shape = Shape()
</span><span class='line'>shape.numberOfSides = 7
</span><span class='line'>var shapeDescription = shape.simpleDescription()</span></code></pre></td></tr></table></div></figure>


<p><code>init</code>的使用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class NamedShape {
</span><span class='line'>    var numberOfSides: Int = 0
</span><span class='line'>    var name: String
</span><span class='line'>    
</span><span class='line'>    init(name: String) {
</span><span class='line'>        self.name = name
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    func simpleDescription() -&gt; String {
</span><span class='line'>        return "A shape with \(numberOfSides) sides."
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>每一个property都需要赋值，可以在它声明的时候(如numberOfSlides)也可以在initializer里(如name)
定义deinit来创建一个deinitializer如果你需要在对象被释放前做一些清理工作的话
继承时，如果要重写superclass的方法，必须要在重写的方法前加override</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Square: NamedShape {
</span><span class='line'>    var sideLength: Double
</span><span class='line'>    
</span><span class='line'>    init(sideLength: Double, name: String) {
</span><span class='line'>        self.sideLength = sideLength
</span><span class='line'>        super.init(name: name)
</span><span class='line'>        numberOfSides = 4
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    func area() -&gt;  Double {
</span><span class='line'>        return sideLength * sideLength
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    override func simpleDescription() -&gt; String {
</span><span class='line'>        return "A square with sides of length \(sideLength)."
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let test = Square(sideLength: 5.2, name: "my test square")
</span><span class='line'>test.area()
</span><span class='line'>test.simpleDescription()</span></code></pre></td></tr></table></div></figure>


<p>为property定义getter和setter</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class EquilateralTriangle: NamedShape {
</span><span class='line'>    var sideLength: Double = 0.0
</span><span class='line'>    
</span><span class='line'>    init(sideLength: Double, name: String) {
</span><span class='line'>        self.sideLength = sideLength
</span><span class='line'>        super.init(name: name)
</span><span class='line'>        numberOfSides = 3
</span><span class='line'>    }
</span><span class='line'>    
</span><span class='line'>    var perimeter: Double {
</span><span class='line'>    get {
</span><span class='line'>        return 3.0 * sideLength
</span><span class='line'>    }
</span><span class='line'>    set {
</span><span class='line'>        sideLength = newValue / 3.0
</span><span class='line'>    }
</span><span class='line'> }
</span><span class='line'> 
</span><span class='line'> override func simpleDescription() -&gt; String {
</span><span class='line'>          return "An equilateral triagle with sides of length \(sideLength)."
</span><span class='line'>      }
</span><span class='line'> }
</span><span class='line'>var triangle = EquilateralTriangle(sideLength: 3.1, name: "a triangle")
</span><span class='line'>triangle.perimeter
</span><span class='line'>triangle.perimeter = 9.9
</span><span class='line'>triangle.sideLength</span></code></pre></td></tr></table></div></figure>


<p>在perimeter的setter方法中，新值有一个默认的名字newValue,我们可以在set后的括号里为这个值指定一个名字
如果你无需计算property的值，但需要在设置新值的前后做一些操作，可以用<code>willSet</code>和<code>didSet</code>,比如</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class TriangleAndSquare {
</span><span class='line'>    var triangle: EquilateralTriangle {
</span><span class='line'>      willSet {
</span><span class='line'>          square.sideLength = newValue.sideLength
</span><span class='line'>      }
</span><span class='line'>    }
</span><span class='line'>    var square: Square {
</span><span class='line'>      willSet {
</span><span class='line'>          triangle.sideLength = newValue.sideLength
</span><span class='line'>      }
</span><span class='line'>    }
</span><span class='line'>    init(size: Double, name: String) {
</span><span class='line'>        square = Square(sideLength: size, name: name)
</span><span class='line'>        triangle = EquilateralTriangle(sideLength: size, name: name)
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var triangleAndSquare = TriangleAndSquare(size: 10, name: "another test shape")
</span><span class='line'>triangleAndSquare.square.sideLength
</span><span class='line'>triangleAndSquare.triangle.sideLength
</span><span class='line'>triangleAndSquare.square = Square(sideLength: 50, name: "larger square")
</span><span class='line'>triangleAndSquare.triangle.sideLength</span></code></pre></td></tr></table></div></figure>


<p>类方法与函数有一个很重要的区别，类方法里可以为参数指定一个别名,而函数不行，如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Counter {
</span><span class='line'>    var count: Int = 0
</span><span class='line'>    func incrementBy(amount: Int, numberOfTimes times: Int) {
</span><span class='line'>        count += amount * times
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var counter = Counter()
</span><span class='line'>counter.incrementBy(2, numberOfTimes: 7)</span></code></pre></td></tr></table></div></figure>


<p>当与optional values工作时，你可以在有关方法，属性和[]操作前写一个<code>?</code>如果在?前的值为nil,则一切在？后的操作都被忽略了，整个表达式的值也就是nil了，否则optional value unwrapped,所有?后表达式对应的值为optional value,无论如何，整个表达式的值都是optional value</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let optionalSquare: Square? = Square(sideLength: 2.5, name: "optional square")
</span><span class='line'>let sideLength = optionalSquare?.sideLength</span></code></pre></td></tr></table></div></figure>


<h4>Enumerations and Structures</h4>

<p>像类和其他类型一样,enumerations可以有方法</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum Rank: Int {
</span><span class='line'>    case Ace = 1  //也可以用字符串或符点型来指定枚举的类型
</span><span class='line'>    case Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten
</span><span class='line'>    case Jack, Queen, King
</span><span class='line'>    func simpleDescription() -&gt; String {
</span><span class='line'>        switch self {
</span><span class='line'>        case .Ace:
</span><span class='line'>            return "ace"
</span><span class='line'>        case .Jack:
</span><span class='line'>            return "jack"
</span><span class='line'>        case .Queen:
</span><span class='line'>            return "queen"
</span><span class='line'>        case .King:
</span><span class='line'>            return "king"
</span><span class='line'>        default:
</span><span class='line'>            return String(self.toRaw())
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let ace = Rank.Ace
</span><span class='line'>let aceRawValue = ace.toRaw() //1</span></code></pre></td></tr></table></div></figure>


<p>用<code>toRaw</code>和<code>fromRaw</code>函数来对raw value和枚举值进行相互转换</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if let convertedRank = Rank.fromRaw(3) {
</span><span class='line'>    let threeDescription = convertedRank.simpleDescription()
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>The member values of an enumeration are actual values, not just another way of writing their raw values.如果没有一个有意义的raw value，你不需要再指定它</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum Suit {
</span><span class='line'>    case Spades, Hearts, Diamonds, Clubs
</span><span class='line'>    func simpleDescription() -&gt; String {
</span><span class='line'>        switch self {
</span><span class='line'>        case .Spades:
</span><span class='line'>            return "spades"
</span><span class='line'>        case .Hearts:
</span><span class='line'>            return "hearts"
</span><span class='line'>        case .Diamonds:
</span><span class='line'>            return "diamonds"
</span><span class='line'>        case .Clubs:
</span><span class='line'>            return "clubs"
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let hearts = Suit.Hearts
</span><span class='line'>let heartsDescription = hearts.simpleDescription()</span></code></pre></td></tr></table></div></figure>


<p>用struct来创建一个结构,struct支持类的很多方面，如方法和初始化，和类的最大区别是structures总量以copy的形式传递，而class则以引用的形式传递</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Card {
</span><span class='line'>    var rank: Rank
</span><span class='line'>    var suit: Suit
</span><span class='line'>    func simpleDescription() -&gt; String {
</span><span class='line'>        return "The \(rank.simpleDescription()) of \(suit.simpleDescription())"
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let threeOfSpades = Card(rank: .Three, suit: .Spades)
</span><span class='line'>let threeOfSpadesDescription = threeOfSpades.simpleDescription()</span></code></pre></td></tr></table></div></figure>


<p>Instances of the same enumeration member can have different values associated with them.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum ServerResponse {
</span><span class='line'>    case Result(String, String)
</span><span class='line'>    case Error(String)
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>let success = ServerResponse.Result("6:00 am", "8:09 pm")
</span><span class='line'>let failure = ServerResponse.Error("Out of cheese.")
</span><span class='line'> 
</span><span class='line'>switch success {
</span><span class='line'>case let .Result(sunrise, sunset):
</span><span class='line'>    let serverResponse = "Sunrise is at \(sunrise) and sunset is at \(sunset)."
</span><span class='line'>case let .Error(error):
</span><span class='line'>    let serverResponse = "Failure...  \(error)"
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>注意sunrise和sunset如何匹配switch中case的条件而从ServerResponse里值取出来的</p>

<h4>协议和Extensions</h4>

<p>用<code>protocol</code>来声明一个协议</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>protocol ExampleProtocol {
</span><span class='line'>    var simpleDescription: String { get }
</span><span class='line'>    mutating func adjust()
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>class SimpleClass: ExampleProtocol {
</span><span class='line'>    var simpleDescription: String = "A very simple class."
</span><span class='line'>    var anotherProperty: Int = 69105
</span><span class='line'>    func adjust() {
</span><span class='line'>        simpleDescription += "  Now 100% adjusted."
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var a = SimpleClass()
</span><span class='line'>a.adjust()
</span><span class='line'>let aDescription = a.simpleDescription
</span><span class='line'> 
</span><span class='line'>struct SimpleStructure: ExampleProtocol {
</span><span class='line'>    var simpleDescription: String = "A simple structure"
</span><span class='line'>    mutating func adjust() {
</span><span class='line'>        simpleDescription += " (adjusted)"
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var b = SimpleStructure()
</span><span class='line'>b.adjust()
</span><span class='line'>let bDescription = b.simpleDescription</span></code></pre></td></tr></table></div></figure>


<p>注意在struct中mutating的使用,class中的方法无需标记为mutating,因为类中的方法总是可以改变类的
用extensions来为一个已知的类型添加功能，比如新的方法和computed properties</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>extension Int: ExampleProtocol {
</span><span class='line'>    var simpleDescription: String {
</span><span class='line'>    return "The number \(self)"
</span><span class='line'>    }
</span><span class='line'>    mutating func adjust() {
</span><span class='line'>        self += 42
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>7.simpleDescription</span></code></pre></td></tr></table></div></figure>


<p>You can use an extension to add protocol conformance to a type that is declared elsewhere, or even to a type that you imported from a library or framework.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let protocolValue: ExampleProtocol = a
</span><span class='line'>protocolValue.simpleDescription
</span><span class='line'>// protocolValue.anotherProperty  // Uncomment to see the error”</span></code></pre></td></tr></table></div></figure>


<p>尽管protocolValue有一个运行时的类型SimpleClass,但编译器仍把它当作ExampleProtocol的一种类型，也就是说说了定义时协议对应的方法，你不能调用它实际所属类的方法，属性</p>

<h4>Generics</h4>

<p>在尖括号里写一个名字来创建一个generic函数或类型</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func repeat&lt;ItemType&gt;(item: ItemType, times: Int) -&gt; ItemType[] {
</span><span class='line'>    var result = ItemType[]()
</span><span class='line'>    for i in 0..times {
</span><span class='line'>        result += item
</span><span class='line'>    }
</span><span class='line'>    return result
</span><span class='line'>}
</span><span class='line'>repeat("knock", 4)</span></code></pre></td></tr></table></div></figure>


<p>我们既可以将这种形式用在函数和方法上，也可以用在类，枚举，结构体的定义上</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// Reimplement the Swift standard library's optional type
</span><span class='line'>enum OptionalValue&lt;T&gt; {
</span><span class='line'>    case None
</span><span class='line'>    case Some(T)
</span><span class='line'>}
</span><span class='line'>var possibleInteger: OptionalValue&lt;Int&gt; = .None
</span><span class='line'>possibleInteger = .Some(100)</span></code></pre></td></tr></table></div></figure>


<p>在类型名后加一个where来指定一些必须条件</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func anyCommonElements &lt;T, U where T: Sequence, U: Sequence, T.GeneratorType.Element: Equatable, T.GeneratorType.Element == U.GeneratorType.Element&gt; (lhs: T, rhs: U) -&gt; Bool {
</span><span class='line'>    for lhsItem in lhs {
</span><span class='line'>        for rhsItem in rhs {
</span><span class='line'>            if lhsItem == rhsItem {
</span><span class='line'>                return true
</span><span class='line'>            }
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return false
</span><span class='line'>}
</span><span class='line'>anyCommonElements([1, 2, 3], [3])</span></code></pre></td></tr></table></div></figure>


<p>练习
Modify the anyCommonElements function to make a function that returns an array of the elements that any two sequences have in common.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func anyCommonElements &lt;T, U where T: Sequence, U: Sequence, T.GeneratorType.Element:     Equatable, T.GeneratorType.Element == U.GeneratorType.Element&gt; (lhs: T, rhs: U) -&gt; Array&lt;T.GeneratorType.Element&gt; {
</span><span class='line'>    var toReturn = Array&lt;T.GeneratorType.Element&gt;()
</span><span class='line'>    for lhsItem in lhs {
</span><span class='line'>        for rhsItem in rhs {
</span><span class='line'>            if lhsItem == rhsItem {
</span><span class='line'>                toReturn.append(lhsItem)
</span><span class='line'>            }
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return toReturn
</span><span class='line'>}
</span><span class='line'>anyCommonElements([1, 2, 3], [3])</span></code></pre></td></tr></table></div></figure>


<p>在一些简单的情况下，可以省略where，只在分号后写一个protocol或是类名，&lt;T: Equatable>和<T where T: Equatable>是一样的
Swift是类型安全的语言,如果你的代码希望的是String类型，类型安全将阻止你赋Int值给它</p>

<h4>常量和变量的命名</h4>

<p>我们几乎可以用任何字符来命名常量和变量，包括Unicode字符</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let π = 3.14159
</span><span class='line'>let 你好 = "你好世界"
</span><span class='line'>let 🐶🐮 = "dogcow”</span></code></pre></td></tr></table></div></figure>


<p>一旦你声明了某种类型的常量和变量，你就不能为它赋予其他类型的变量</p>

<h4>打印</h4>

<p>打印变量</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>println(friendlyWelcome)</span></code></pre></td></tr></table></div></figure>


<p>打印中包含字符替换</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>println("The current value of friendlyWelcome is \(friendlyWelcome)")</span></code></pre></td></tr></table></div></figure>


<h4>注释</h4>

<p>不像C语言中的多行注释，Swift的多行注释是可以嵌套的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/* this is the start of the first multiline comment
</span><span class='line'>/* this is the second, nested multiline comment */
</span><span class='line'>this is the end of the first multiline comment */</span></code></pre></td></tr></table></div></figure>


<h4>分号的使用</h4>

<p>如果一行中包含多条语句，就得用分号</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let cat = "🐱"; println(cat)
</span><span class='line'>// prints "🐱”</span></code></pre></td></tr></table></div></figure>


<h4>整型</h4>

<ul>
<li>整型范围</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let minValue = UInt8.min  // minValue is equal to 0, and is of type UInt8
</span><span class='line'>let maxValue = UInt8.max  // maxValue is equal to 255, and is of type UInt8”</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Int型和UInt
在32位OS上，(U)Int和(U)Int32的大小一样
在64位OS上，(U)Int和(U)Int64的大小一样
只有在你确实需要和OS本身的字大小一样的非整形类型时才用UInt，否则尽量用Int

<h4>浮点型</h4></li>
<li>Double代表了64位的浮点数，有至少15位小数的精度</li>
<li>Float代表了32位，只有6位小数的精度

<h4>Numeric Literals</h4>

<p>整型字面量可以写成以下形式</p></li>
<li>10进制，无前缀</li>
<li>二进度，0b前缀</li>
<li>八进制，0o前缀</li>
<li>十六进制，0x前缀</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let decimalInteger = 17
</span><span class='line'>let binaryInteger = 0b10001       // 17 in binary notation
</span><span class='line'>let octalInteger = 0o21           // 17 in octal notation
</span><span class='line'>let hexadecimalInteger = 0x11     // 17 in hexadecimal notation”</span></code></pre></td></tr></table></div></figure>


<p>浮点型可以是十制的(无前缀),也可以是十六进制的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1.25e2 means 1.25 × 102, or 125.0.
</span><span class='line'>1.25e-2 means 1.25 × 10-2, or 0.0125.
</span><span class='line'>0xFp2 means 15 × 2*2, or 60.0.
</span><span class='line'>0xFp-2 means 15 × (2的-2次方), or 3.75.</span></code></pre></td></tr></table></div></figure>


<h4>整型转换</h4>

<p>溢出会报错</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let cannotBeNegative: UInt8 = -1
</span><span class='line'>// UInt8 cannot store negative numbers, and so this will report an error
</span><span class='line'>let tooBig: Int8 = Int8.max + 1
</span><span class='line'>// Int8 cannot store a number larger than its maximum value,
</span><span class='line'>// and so this will also report an error</span></code></pre></td></tr></table></div></figure>


<p>来看以下例子</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let twoThousand: UInt16 = 2_000
</span><span class='line'>let one: UInt8 = 1
</span><span class='line'>let twoThousandAndOne = twoThousand + UInt16(one)</span></code></pre></td></tr></table></div></figure>


<p>以上的UInt16是必须的,因为两个变量的类型不同</p>

<h4>整形和浮点型的转换</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let three = 3
</span><span class='line'>let pointOneFourOneFiveNine = 0.14159
</span><span class='line'>let pi = Double(three) + pointOneFourOneFiveNine</span></code></pre></td></tr></table></div></figure>


<p>浮点型转为整型，只保留整数,不会出现四舍五入这种情况</p>

<h4>Type Aliases</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>typealias AudioSample = UInt16
</span><span class='line'>var maxAmplitudeFound = AudioSample.min</span></code></pre></td></tr></table></div></figure>


<h4>Bool型</h4>

<p>Swift的类型安全阻止了任何非bool型的值自动替换成Bool型的值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let i = 1
</span><span class='line'>if i {
</span><span class='line'>    // this example will not compile, and will report an error
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>不过，以下使用方式却是对的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let i = 1
</span><span class='line'>if i == 1 {
</span><span class='line'>    // this example will compile successfully
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h4>Tuples</h4>

<p>tuple将多个值组合一个复合的值，并且这些值可以是不同类型的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let http404Error = (404, "Not Found")
</span><span class='line'>
</span><span class='line'>let (statusCode, statusMessage) = http404Error
</span><span class='line'>println("The status code is \(statusCode)")
</span><span class='line'>// prints "The status code is 404"
</span><span class='line'>println("The status message is \(statusMessage)")
</span><span class='line'>// prints "The status message is Not Found</span></code></pre></td></tr></table></div></figure>


<p>如果你只需要一部分tuple的值 ，你可以用_来忽略你不需要的值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let (justTheStatusCode, _) = http404Error
</span><span class='line'>println("The status code is \(justTheStatusCode)")
</span><span class='line'>// prints "The status code is 404</span></code></pre></td></tr></table></div></figure>


<p>也可以用以下方式来获取tuple里的值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>println("The status code is \(http404Error.0)")
</span><span class='line'>// prints "The status code is 404"
</span><span class='line'>println("The status message is \(http404Error.1)")
</span><span class='line'>// prints "The status message is Not Found</span></code></pre></td></tr></table></div></figure>


<p>在定义tuple的时候可以为每个element赋值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let http200Status = (statusCode: 200, description: "OK")
</span><span class='line'>println("The status code is \(http200Status.statusCode)")
</span><span class='line'>// prints "The status code is 200"
</span><span class='line'>println("The status message is \(http200Status.description)")
</span><span class='line'>// prints "The status message is OK"</span></code></pre></td></tr></table></div></figure>


<p>注意:Tuples仅仅适用于临时的一组相关的数据,它并不适用于复杂数据类型的创建</p>

<h4>Optionals</h4>

<p>Swift’s optionals let you indicate the absence of a value for any type at all, without the need for special constants.</p>

<h4>Forced Unwrapping</h4>

<p>当我们确定optional<code>确定</code>含有一个值时，我们可以在这个optional的名字后面加一个!来获取它的值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if convertedNumber {
</span><span class='line'>    println("\(possibleNumber) has an integer value of \(convertedNumber!)")
</span><span class='line'>} else {
</span><span class='line'>    println("\(possibleNumber) could not be converted to an integer")
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h4>Optional Binding</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if let constantName = someOptional {
</span><span class='line'>    statements
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>我们可以按如下方式重写之前的<code>possibleNumber</code>的例子</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if let actualNumber = possibleNumber.toInt() {
</span><span class='line'>    println("\(possibleNumber) has an integer value of \(actualNumber)")
</span><span class='line'>} else {
</span><span class='line'>    println("\(possibleNumber) could not be converted to an integer")
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>你可以赋予一个optional 值为nil,非optional的则不行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var serverResponseCode: Int? = 404
</span><span class='line'>// serverResponseCode contains an actual Int value of 404
</span><span class='line'>serverResponseCode = nil</span></code></pre></td></tr></table></div></figure>


<p>如果在定义一个optional value时不提供一个默认值，则它为nil</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var surveyAnswer: String?
</span><span class='line'>// surveyAnswer is automatically set to nil”</span></code></pre></td></tr></table></div></figure>


<p>需要注意的是swift的nil与oc中的nil不同,oc中的nil是一个指定不存在的对象的指针，而swift中的nil则不是指针，它只是表示某种类型的值不存在，任何类型的optional都能设置为nil，而不仅仅是对象</p>

<h4>Implicitly Unwrapped Optional</h4>

<p>也就是类型后加!,仔细看以下的区别</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let possibleString: String? = "An optional string."
</span><span class='line'>println(possibleString!) // requires an exclamation mark to access its value
</span><span class='line'>// prints "An optional string."
</span><span class='line'> 
</span><span class='line'>let assumedString: String! = "An implicitly unwrapped optional string."
</span><span class='line'>println(assumedString)  // no exclamation mark is needed to access its value
</span><span class='line'>// prints "An implicitly unwrapped optional string.
</span><span class='line'>
</span><span class='line'>if assumedString {
</span><span class='line'>    println(assumedString)
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h4>断言</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let age = -3
</span><span class='line'>assert(age &gt;= 0, "A person's age cannot be less than zero")
</span><span class='line'>// this causes the assertion to trigger, because age is not &gt;= 0</span></code></pre></td></tr></table></div></figure>


<p>也可以不写string</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>assert(age &gt;= 0)</span></code></pre></td></tr></table></div></figure>


<p>注意assert里的string不支持<code>\()</code>形式的替换</p>

<h4>基本操作</h4>

<p>Swift允许你对浮点值进行%的运算
赋值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let b = 10
</span><span class='line'>var a = 5
</span><span class='line'>a = b</span></code></pre></td></tr></table></div></figure>


<p>不过不像C，赋值本身不返回值，所以以下是非法的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if x = y {
</span><span class='line'>    // this is not valid, because x = y does not return a value
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>不像C，Swift默认情况下不允许进行算术运算时的值溢出
两个Character的值，或者一个Character和一个String的值，能相加组成一个新的String的值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let dog: Character = "🐶"
</span><span class='line'>let cow: Character = "🐮"
</span><span class='line'>let dogCow = dog + cow
</span><span class='line'>// dogCow is equal to "🐶🐮”</span></code></pre></td></tr></table></div></figure>


<h4>求余运算符%</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-9 % 4   // equals -1</span></code></pre></td></tr></table></div></figure>


<p>除数的符号是被忽略的，也就是说a % b和a % -b的值是一样的
浮点数的求余操作</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>8 % 2.5   // equals 0.5</span></code></pre></td></tr></table></div></figure>


<h4>比较操作符</h4>

<p><code>===</code>可以用来测试两个对象的引用是否指向同一个对象</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let name = "world"
</span><span class='line'>if name == "world" {
</span><span class='line'>    println("hello, world")
</span><span class='line'>} else {
</span><span class='line'>    println("I'm sorry \(name), but I don't recognize you")
</span><span class='line'>}
</span><span class='line'>// prints "hello, world", because name is indeed equal to "world"</span></code></pre></td></tr></table></div></figure>


<h4>Range操作</h4>

<p>闭区间</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for index in 1...5 {
</span><span class='line'>    println("\(index) times 5 is \(index * 5)")
</span><span class='line'>}
</span><span class='line'>// 1 times 5 is 5
</span><span class='line'>// 2 times 5 is 10
</span><span class='line'>// 3 times 5 is 15
</span><span class='line'>// 4 times 5 is 20
</span><span class='line'>// 5 times 5 is 25”</span></code></pre></td></tr></table></div></figure>


<p>开区间</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let names = ["Anna", "Alex", "Brian", "Jack"]
</span><span class='line'>let count = names.count
</span><span class='line'>for i in 0..count {
</span><span class='line'>    println("Person \(i + 1) is called \(names[i])")
</span><span class='line'>}
</span><span class='line'>// Person 1 is called Anna
</span><span class='line'>// Person 2 is called Alex
</span><span class='line'>// Person 3 is called Brian
</span><span class='line'>// Person 4 is called Jack</span></code></pre></td></tr></table></div></figure>


<h4>字符串和字符</h4>

<p>Every string is composed of encoding-independent Unicode characters, and provides support for accessing those characters in various Unicode representations.
注意OC中的string相关的API，Swift都的String都能使用</p>

<h5>String Literals</h5>

<ul>
<li>转义字符\0(空字符),\(返斜杆),\t,\n,\r,\&ldquo;,`</li>
<li>单字节的Unicode scalars,\xnn,nn是两位十六进制的数字</li>
<li>两个字节的Unicode scalars,\unnnn,nnnn是一个四位十六进制的数字</li>
<li>四个字节的Unicode scalars,\Unnnnnnnn,nnnnnnnn是八位的十六进制的数字</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let wiseWords = "\"Imagination is more important than knowledge\" - Einstein"
</span><span class='line'>// "Imagination is more important than knowledge" - Einstein
</span><span class='line'>let dollarSign = "\x24"        // $,  Unicode scalar U+0024
</span><span class='line'>let blackHeart = "\u2665"      // ♥,  Unicode scalar U+2665
</span><span class='line'>let sparklingHeart = "\U0001F496"  // 💖, Unicode scalar U+1F496”</span></code></pre></td></tr></table></div></figure>


<h4>初始化一个空字符串</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var emptyString = ""               // empty string literal
</span><span class='line'>var anotherEmptyString = String()  // initializer syntax
</span><span class='line'>// these two strings are both empty, and are equivalent to each other</span></code></pre></td></tr></table></div></figure>


<p>判断一个String的值是否是空的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if emptyString.isEmpty {
</span><span class='line'>    println("Nothing to see here")
</span><span class='line'>}
</span><span class='line'>// prints "Nothing to see here</span></code></pre></td></tr></table></div></figure>


<p>你可以在定义一个字符串时用var和let来表示字符串是否可变</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var variableString = "Horse"
</span><span class='line'>variableString += " and carriage"
</span><span class='line'>// variableString is now "Horse and carriage"
</span><span class='line'> 
</span><span class='line'>let constantString = "Highlander"
</span><span class='line'>constantString += " and another Highlander"
</span><span class='line'>// this reports a compile-time error - a constant string cannot be modified</span></code></pre></td></tr></table></div></figure>


<h4>Strings是值类型</h4>

<p>也就是说如果string的值被传入函数或方法，或被赋值时，它是被copy的！幕后，Swift的编译器优化了string的使用，所以copy只有在真正需要的时候才发生,这意味着你无需担心性能总量</p>

<h5>遍历string中的字符</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for character in "Dog!🐶" {
</span><span class='line'>    println(character)
</span><span class='line'>}
</span><span class='line'>// D
</span><span class='line'>// o
</span><span class='line'>// g
</span><span class='line'>// !
</span><span class='line'>// 🐶”</span></code></pre></td></tr></table></div></figure>


<p>创建一个character</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let yenSign: Character = "¥"</span></code></pre></td></tr></table></div></figure>


<h4>计算Characters的个数</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let unusualMenagerie = "Koala 🐨, Snail 🐌, Penguin 🐧, Dromedary 🐪"
</span><span class='line'>println("unusualMenagerie has \(countElements(unusualMenagerie)) characters")
</span><span class='line'>// prints "unusualMenagerie has 40 characters”</span></code></pre></td></tr></table></div></figure>


<p>不同的Unicode字符或同一Unicode字符的不同表示形式在内存中占的空间不一样，基于此，swift中的字符并不占用同样的内存，所以要计算一个string的长度，我们必须逐个遍历字符</p>

<p><code>Note</code> also that the character count returned by countElements is not always the same as the length property of an NSString that contains the same characters. The length of an NSString is based on the number of 16-bit code units within the string’s UTF-16 representation and not the number of Unicode characters within the string. To reflect this fact, the length property from NSString is called utf16count when it is accessed on a Swift String value.</p>

<h4>连接字符串和字符</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let string1 = "hello"
</span><span class='line'>let string2 = " there"
</span><span class='line'>let character1: Character = "!"
</span><span class='line'>let character2: Character = "?"
</span><span class='line'> 
</span><span class='line'>let stringPlusCharacter = string1 + character1        // equals "hello!"
</span><span class='line'>let stringPlusString = string1 + string2              // equals "hello there"
</span><span class='line'>let characterPlusString = character1 + string1        // equals "!hello"
</span><span class='line'>let characterPlusCharacter = character1 + character2  // equals "!?”</span></code></pre></td></tr></table></div></figure>


<h4>比较字符串</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let quotation = "We're a lot alike, you and I."
</span><span class='line'>let sameQuotation = "We're a lot alike, you and I."
</span><span class='line'>if quotation == sameQuotation {
</span><span class='line'>    println("These two strings are considered equal")
</span><span class='line'>}
</span><span class='line'>// prints "These two strings are considered equal</span></code></pre></td></tr></table></div></figure>


<h5>前缀和后缀的比较</h5>

<p>hasPrefix和hasSuffix
前缀</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let romeoAndJuliet = [
</span><span class='line'>    "Act 1 Scene 1: Verona, A public place",
</span><span class='line'>    "Act 1 Scene 2: Capulet's mansion",
</span><span class='line'>    "Act 1 Scene 3: A room in Capulet's mansion",
</span><span class='line'>    "Act 1 Scene 4: A street outside Capulet's mansion",
</span><span class='line'>    "Act 1 Scene 5: The Great Hall in Capulet's mansion",
</span><span class='line'>    "Act 2 Scene 1: Outside Capulet's mansion",
</span><span class='line'>    "Act 2 Scene 2: Capulet's orchard",
</span><span class='line'>    "Act 2 Scene 3: Outside Friar Lawrence's cell",
</span><span class='line'>    "Act 2 Scene 4: A street in Verona",
</span><span class='line'>    "Act 2 Scene 5: Capulet's mansion",
</span><span class='line'>    "Act 2 Scene 6: Friar Lawrence's cell"
</span><span class='line'>]
</span><span class='line'>
</span><span class='line'>var act1SceneCount = 0
</span><span class='line'>for scene in romeoAndJuliet {
</span><span class='line'>    if scene.hasPrefix("Act 1 ") {
</span><span class='line'>        ++act1SceneCount
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>println("There are \(act1SceneCount) scenes in Act 1")
</span><span class='line'>// prints "There are 5 scenes in Act 1</span></code></pre></td></tr></table></div></figure>


<p>后缀</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var mansionCount = 0
</span><span class='line'>var cellCount = 0
</span><span class='line'>for scene in romeoAndJuliet {
</span><span class='line'>    if scene.hasSuffix("Capulet's mansion") {
</span><span class='line'>        ++mansionCount
</span><span class='line'>    } else if scene.hasSuffix("Friar Lawrence's cell") {
</span><span class='line'>        ++cellCount
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>println("\(mansionCount) mansion scenes; \(cellCount) cell scenes")
</span><span class='line'>// prints "6 mansion scenes; 2 cell scenes”</span></code></pre></td></tr></table></div></figure>


<h5>大小写转换</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let normal = "Could you help me, please?""
</span><span class='line'>let shouty = normal.uppercaseString
</span><span class='line'>// shouty is equal to "COULD YOU HELP ME, PLEASE?"
</span><span class='line'>let whispered = normal.lowercaseString
</span><span class='line'>// whispered is equal to "could you help me, please?”</span></code></pre></td></tr></table></div></figure>


<h4>Unicode p118</h4>

<h4>Collection 类型</h4>

<h5>Array</h5>

<p>不同于OC中的array(可存储不同类型的对象)，array存储了同类型的对象，无需一定要存储对象，也可存储Int等类型
以下两个定义等价</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var shoppingList: String[] = ["Eggs", "Milk"]
</span><span class='line'>var shoppingList = ["Eggs", "Milk"]</span></code></pre></td></tr></table></div></figure>


<h5>访问或修改array</h5>

<p>计算array的大小</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>“println("The shopping list contains \(shoppingList.count) items.")
</span><span class='line'>// prints "The shopping list contains 2 items.”</span></code></pre></td></tr></table></div></figure>


<p>用isEmpty来判断coun得否为0</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if shoppingList.isEmpty {
</span><span class='line'>    println("The shopping list is empty.")
</span><span class='line'>} else {
</span><span class='line'>    println("The shopping list is not empty.")
</span><span class='line'>}
</span><span class='line'>// prints "The shopping list is not empty."</span></code></pre></td></tr></table></div></figure>


<p>添加元素</p>

<ul>
<li>用append</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>shoppingList.append("Flour")
</span><span class='line'>// shoppingList now contains 3 items, and someone is making pancakes”</span></code></pre></td></tr></table></div></figure>


<ul>
<li>用+=</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>shoppingList += "Baking Powder"
</span><span class='line'>// shoppingList now contains 4 items”
</span><span class='line'>
</span><span class='line'>shoppingList += ["Chocolate Spread", "Cheese", "Butter"]
</span><span class='line'>// shoppingList now contains 7 items”</span></code></pre></td></tr></table></div></figure>


<p>用Range来改变数组里一些元素的值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>shoppingList[4...6] = ["Bananas", "Apples"]
</span><span class='line'>// shoppingList now contains 6 items”</span></code></pre></td></tr></table></div></figure>


<p>在某位置插入元素</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>shoppingList.insert("Maple Syrup", atIndex: 0)
</span><span class='line'>// shoppingList now contains 7 items
</span><span class='line'>// "Maple Syrup" is now the first item in the list”</span></code></pre></td></tr></table></div></figure>


<p>移除元素</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let mapleSyrup = shoppingList.removeAtIndex(0)
</span><span class='line'>let apples = shoppingList.removeLast()</span></code></pre></td></tr></table></div></figure>


<p>遍历</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for item in shoppingList {
</span><span class='line'>    println(item)
</span><span class='line'>}
</span><span class='line'>// Six eggs
</span><span class='line'>// Milk
</span><span class='line'>// Flour
</span><span class='line'>// Baking Powder
</span><span class='line'>// Bananas”</span></code></pre></td></tr></table></div></figure>


<p>如果你在遍历时需要知道对应的index，可以用以下方式</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for (index, value) in enumerate(shoppingList) {
</span><span class='line'>    println("Item \(index + 1): \(value)")
</span><span class='line'>}
</span><span class='line'>// Item 1: Six eggs
</span><span class='line'>// Item 2: Milk
</span><span class='line'>// Item 3: Flour
</span><span class='line'>// Item 4: Baking Powder
</span><span class='line'>// Item 5: Bananas</span></code></pre></td></tr></table></div></figure>


<h4>创建和初始化Array</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var someInts = Int[]()
</span><span class='line'>println("someInts is of type Int[] with \(someInts.count) items.")
</span><span class='line'>// prints "someInts is of type Int[] with 0 items.</span></code></pre></td></tr></table></div></figure>


<p>注意以下例子，虽然someInt=[]不指定任何类型，但从前段代码可知它的元素是Int类型的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>someInts.append(3)
</span><span class='line'>// someInts now contains 1 value of type Int
</span><span class='line'>someInts = []
</span><span class='line'>// someInts is now an empty array, but is still of type Int[]</span></code></pre></td></tr></table></div></figure>


<p>指定default值和数目的初始化</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var threeDoubles = Double[](count: 3, repeatedValue: 0.0)
</span><span class='line'>// threeDoubles is of type Double[], and equals [0.0, 0.0, 0.0]
</span><span class='line'>
</span><span class='line'>var anotherThreeDoubles = Array(count: 3, repeatedValue: 2.5)
</span><span class='line'>// anotherThreeDoubles is inferred as Double[], and equals [2.5, 2.5, 2.5]</span></code></pre></td></tr></table></div></figure>


<p>最后我们能通过+来将两个数组连成一个</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var sixDoubles = threeDoubles + anotherThreeDoubles
</span><span class='line'>// sixDoubles is inferred as Double[], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]”</span></code></pre></td></tr></table></div></figure>


<h4>字典</h4>

<p>对key的唯一要求是hashable,Enumeration member values without associated values (as described in Enumerations) are also hashable by default.
以下两个定义是等价的，swift能推测出它的类型</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var airports: Dictionary&lt;String, String&gt; = ["TYO": "Tokyo", "DUB": "Dublin"]”
</span><span class='line'>var airports: Dictionary&lt;String, String&gt; = ["TYO": "Tokyo", "DUB": "Dublin"]
</span></code></pre></td></tr></table></div></figure>


<h4>访问和修改字典</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>println("The dictionary of airports contains \(airports.count) items.")
</span><span class='line'>// prints "The dictionary of airports contains 2 items.</span></code></pre></td></tr></table></div></figure>


<p>方法updateValue(forKey:)的使用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if let oldValue = airports.updateValue("Dublin International", forKey: "DUB") {
</span><span class='line'>    println("The old value for DUB was \(oldValue).")
</span><span class='line'>}
</span><span class='line'>// prints "The old value for DUB was Dublin.</span></code></pre></td></tr></table></div></figure>


<p>注意，此方法对应的是key对应的旧值，返回的是一个optional value
用[]获取的值也是optional vlaue</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if let airportName = airports["DUB"] {
</span><span class='line'>    println("The name of the airport is \(airportName).")
</span><span class='line'>} else {
</span><span class='line'>    println("That airport is not in the airports dictionary.")
</span><span class='line'>}
</span><span class='line'>// prints "The name of the airport is Dublin International.</span></code></pre></td></tr></table></div></figure>


<p>我们可以将nil赋予key对应的值来移除此key</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>airports["APL"] = "Apple International"
</span><span class='line'>// "Apple International" is not the real airport for APL, so delete it
</span><span class='line'>airports["APL"] = nil
</span><span class='line'>// APL has now been removed from the dictionary</span></code></pre></td></tr></table></div></figure>


<p>也可以用<code>removeValueForKey</code>方法
此方法返回的是key对应的旧值,或者nil(如果不存在的话)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if let removedValue = airports.removeValueForKey("DUB") {
</span><span class='line'>    println("The removed airport's name is \(removedValue).")
</span><span class='line'>} else {
</span><span class='line'>    println("The airports dictionary does not contain a value for DUB.")
</span><span class='line'>}
</span><span class='line'>// prints "The removed airport's name is Dublin International.”</span></code></pre></td></tr></table></div></figure>


<h5>遍历字典</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for (airportCode, airportName) in airports {
</span><span class='line'>    println("\(airportCode): \(airportName)")
</span><span class='line'>}
</span><span class='line'>// TYO: Tokyo
</span><span class='line'>// LHR: London Heathrow
</span><span class='line'>
</span><span class='line'>for airportCode in airports.keys {
</span><span class='line'>    println("Airport code: \(airportCode)")
</span><span class='line'>}
</span><span class='line'>// Airport code: TYO
</span><span class='line'>// Airport code: LHR
</span><span class='line'> 
</span><span class='line'>for airportName in airports.values {
</span><span class='line'>    println("Airport name: \(airportName)")
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>//用keys或values创建一个数组
</span><span class='line'>let airportCodes = Array(airports.keys)
</span><span class='line'>// airportCodes is ["TYO", "LHR"]
</span><span class='line'> 
</span><span class='line'>let airportNames = Array(airports.values)
</span><span class='line'>// airportNames is ["Tokyo", "London Heathrow"]</span></code></pre></td></tr></table></div></figure>


<h4>创建一个空的字典</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var namesOfIntegers = Dictionary&lt;Int, String&gt;()</span></code></pre></td></tr></table></div></figure>


<p>注意以下,namesIntegers能被推断出是&lt;Int,String></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>namesOfIntegers[16] = "sixteen"
</span><span class='line'>// namesOfIntegers now contains 1 key-value pair
</span><span class='line'>namesOfIntegers = [:]</span></code></pre></td></tr></table></div></figure>


<p><code>注意</code>Behind the scenes, Swift’s array and dictionary types are implemented as generic collections</p>

<h4>Mutability Of Collections</h4>

<p>对字典来说,immutability意味着你不能改变一个key对应的值，而对数组来说，你只是不能改变它的大小，但仍然能改变某个index对应的值</p>

<h4>条件语句</h4>

<p>注意,swift的switch中的case后无需跟着break，因为执行完case里的语句就自动break了，cases也能匹配不同的类型，包括range,tuples或转换为某一具体的类型</p>

<h5>For Loops</h5>

<ul>
<li>For-In</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for index in 1...5 {
</span><span class='line'>    println("\(index) times 5 is \(index * 5)")
</span><span class='line'>}
</span><span class='line'>// 1 times 5 is 5
</span><span class='line'>// 2 times 5 is 10
</span><span class='line'>// 3 times 5 is 15
</span><span class='line'>// 4 times 5 is 20
</span><span class='line'>// 5 times 5 is 25”</span></code></pre></td></tr></table></div></figure>


<p>如果你不需要index，可以用<code>_</code>来忽略它</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let base = 3
</span><span class='line'>let power = 10
</span><span class='line'>var answer = 1
</span><span class='line'>for _ in 1...power {
</span><span class='line'>    answer *= base
</span><span class='line'>}
</span><span class='line'>println("\(base) to the power of \(power) is \(answer)")
</span><span class='line'>// prints "3 to the power of 10 is 59049</span></code></pre></td></tr></table></div></figure>


<p>array,dictionary,characters的for-in</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let names = ["Anna", "Alex", "Brian", "Jack"]
</span><span class='line'>for name in names {
</span><span class='line'>    println("Hello, \(name)!")
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let numberOfLegs = ["spider": 8, "ant": 6, "cat": 4]
</span><span class='line'>for (animalName, legCount) in numberOfLegs {
</span><span class='line'>    println("\(animalName)s have \(legCount) legs")
</span><span class='line'>}
</span><span class='line'>// spiders have 8 legs
</span><span class='line'>// ants have 6 legs
</span><span class='line'>// cats have 4 legs
</span><span class='line'>
</span><span class='line'>for character in "Hello" {
</span><span class='line'>    println(character)
</span><span class='line'>}
</span><span class='line'>// H
</span><span class='line'>// e
</span><span class='line'>// l
</span><span class='line'>// l
</span><span class='line'>// o</span></code></pre></td></tr></table></div></figure>


<h5>For-Condition-Increment</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for var index = 0; index &lt; 3; ++index {
</span><span class='line'>    println("index is \(index)")
</span><span class='line'>}
</span><span class='line'>// index is 0
</span><span class='line'>// index is 1
</span><span class='line'>// index is 2</span></code></pre></td></tr></table></div></figure>


<p>注意for后无需括号</p>

<h5>条件语句</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var temperatureInFahrenheit = 30
</span><span class='line'>if temperatureInFahrenheit &lt;= 32 {
</span><span class='line'>    println("It's very cold. Consider wearing a scarf.")
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h5>switch语句</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let someCharacter: Character = "e"
</span><span class='line'>switch someCharacter {
</span><span class='line'>case "a", "e", "i", "o", "u":
</span><span class='line'>    println("\(someCharacter) is a vowel")
</span><span class='line'>case "b", "c", "d", "f", "g", "h", "j", "k", "l", "m",
</span><span class='line'>"n", "p", "q", "r", "s", "t", "v", "w", "x", "y", "z":
</span><span class='line'>    println("\(someCharacter) is a consonant")
</span><span class='line'>default:
</span><span class='line'>    println("\(someCharacter) is not a vowel or a consonant")
</span><span class='line'>}
</span><span class='line'>// prints "e is a vowel”</span></code></pre></td></tr></table></div></figure>


<p>注意，以下方式不行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let anotherCharacter: Character = "a"
</span><span class='line'>switch anotherCharacter {
</span><span class='line'>case "a":
</span><span class='line'>case "A":
</span><span class='line'>    println("The letter A")
</span><span class='line'>default:
</span><span class='line'>    println("Not the letter A")
</span><span class='line'>}
</span><span class='line'>// this will report a compile-time error</span></code></pre></td></tr></table></div></figure>


<p>每个case里必须对应相应的语句</p>

<h5>Range Matching</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let count = 3_000_000_000_000
</span><span class='line'>let countedThings = "stars in the Milky Way"
</span><span class='line'>var naturalCount: String
</span><span class='line'>switch count {
</span><span class='line'>case 0:
</span><span class='line'>    naturalCount = "no"
</span><span class='line'>case 1...3:
</span><span class='line'>    naturalCount = "a few"
</span><span class='line'>case 4...9:
</span><span class='line'>    naturalCount = "several"
</span><span class='line'>case 10...99:
</span><span class='line'>    naturalCount = "tens of"
</span><span class='line'>case 100...999:
</span><span class='line'>    naturalCount = "hundreds of"
</span><span class='line'>case 1000...999_999:
</span><span class='line'>    naturalCount = "thousands of"
</span><span class='line'>default:
</span><span class='line'>    naturalCount = "millions and millions of"
</span><span class='line'>}
</span><span class='line'>println("There are \(naturalCount) \(countedThings).")
</span><span class='line'>// prints "There are millions and millions of stars in the Milky Way.”</span></code></pre></td></tr></table></div></figure>


<h5>Tuples</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let somePoint = (1, 1)
</span><span class='line'>switch somePoint {
</span><span class='line'>case (0, 0):
</span><span class='line'>    println("(0, 0) is at the origin")
</span><span class='line'>case (_, 0):
</span><span class='line'>    println("(\(somePoint.0), 0) is on the x-axis")
</span><span class='line'>case (0, _):
</span><span class='line'>    println("(0, \(somePoint.1)) is on the y-axis")
</span><span class='line'>case (-2...2, -2...2):
</span><span class='line'>    println("(\(somePoint.0), \(somePoint.1)) is inside the box")
</span><span class='line'>default:
</span><span class='line'>    println("(\(somePoint.0), \(somePoint.1)) is outside of the box")
</span><span class='line'>}
</span><span class='line'>// prints "(1, 1) is inside the box”</span></code></pre></td></tr></table></div></figure>


<h4>Value Bindings</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let anotherPoint = (2, 0)
</span><span class='line'>switch anotherPoint {
</span><span class='line'>case (let x, 0):
</span><span class='line'>    println("on the x-axis with an x value of \(x)")
</span><span class='line'>case (0, let y):
</span><span class='line'>    println("on the y-axis with a y value of \(y)")
</span><span class='line'>case let (x, y):
</span><span class='line'>    println("somewhere else at (\(x), \(y))")
</span><span class='line'>}
</span><span class='line'>// prints "on the x-axis with an x value of 2”</span></code></pre></td></tr></table></div></figure>


<h5>where的使用</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let yetAnotherPoint = (1, -1)
</span><span class='line'>switch yetAnotherPoint {
</span><span class='line'>case let (x, y) where x == y:
</span><span class='line'>    println("(\(x), \(y)) is on the line x == y")
</span><span class='line'>case let (x, y) where x == -y:
</span><span class='line'>    println("(\(x), \(y)) is on the line x == -y")
</span><span class='line'>case let (x, y):
</span><span class='line'>    println("(\(x), \(y)) is just some arbitrary point")
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h5>Control Transfer语句</h5>

<p>注意FallThrough的使用,来看以下例子</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let integerToDescribe = 5
</span><span class='line'>var description = "The number \(integerToDescribe) is"
</span><span class='line'>switch integerToDescribe {
</span><span class='line'>case 2, 3, 5, 7, 11, 13, 17, 19:
</span><span class='line'>    description += " a prime number, and also"
</span><span class='line'>    fallthrough
</span><span class='line'>default:
</span><span class='line'>    description += " an integer."
</span><span class='line'>}
</span><span class='line'>println(description)
</span><span class='line'>// prints "The number 5 is a prime number, and also an integer.”</span></code></pre></td></tr></table></div></figure>


<h4>Labeled语句</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gameLoop: while square != finalSquare {
</span><span class='line'>    if ++diceRoll == 7 { diceRoll = 1 }
</span><span class='line'>    switch square + diceRoll {
</span><span class='line'>    case finalSquare:
</span><span class='line'>        // diceRoll will move us to the final square, so the game is over
</span><span class='line'>        break gameLoop
</span><span class='line'>    case let newSquare where newSquare &gt; finalSquare:
</span><span class='line'>        // diceRoll will move us beyond the final square, so roll again
</span><span class='line'>        continue gameLoop
</span><span class='line'>    default:
</span><span class='line'>        // this is a valid move, so find out its effect
</span><span class='line'>        square += diceRoll
</span><span class='line'>        square += board[square]
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>println("Game over!")”</span></code></pre></td></tr></table></div></figure>


<h4>函数</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func sayHello(personName: String) -&gt; String {
</span><span class='line'>    let greeting = "Hello, " + personName + "!"
</span><span class='line'>    return greeting
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>println(sayHello("Anna"))
</span><span class='line'>// prints "Hello, Anna!"
</span><span class='line'>println(sayHello("Brian"))
</span><span class='line'>// prints "Hello, Brian!”
</span><span class='line'>
</span><span class='line'>func sayHelloWorld() -&gt; String {
</span><span class='line'>    return "hello, world"
</span><span class='line'>}
</span><span class='line'>println(sayHelloWorld())
</span><span class='line'>// prints "hello, world”</span></code></pre></td></tr></table></div></figure>


<p>无返回值的函数</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func sayGoodbye(personName: String) {
</span><span class='line'>    println("Goodbye, \(personName)!")
</span><span class='line'>}
</span><span class='line'>sayGoodbye("Dave")
</span><span class='line'>// prints "Goodbye, Dave!"</span></code></pre></td></tr></table></div></figure>


<p>注意，实际上，虽然函数没写返回值，但它返回的是一个空的tuple<code>()</code></p>

<h5>返回多个值</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func count(string: String) -&gt; (vowels: Int, consonants: Int, others: Int) {
</span><span class='line'>    var vowels = 0, consonants = 0, others = 0
</span><span class='line'>    for character in string {
</span><span class='line'>        switch String(character).lowercaseString {
</span><span class='line'>        case "a", "e", "i", "o", "u":
</span><span class='line'>            ++vowels
</span><span class='line'>        case "b", "c", "d", "f", "g", "h", "j", "k", "l", "m",
</span><span class='line'>        "n", "p", "q", "r", "s", "t", "v", "w", "x", "y", "z":
</span><span class='line'>            ++consonants
</span><span class='line'>        default:
</span><span class='line'>            ++others
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return (vowels, consonants, others)
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let total = count("some arbitrary string!")
</span><span class='line'>println("\(total.vowels) vowels and \(total.consonants) consonants")
</span><span class='line'>// prints "6 vowels and 13 consonants”</span></code></pre></td></tr></table></div></figure>


<p><code>注意</code>,.vowerls和.consonants依然可用!!!</p>

<h5>External Parameter Names</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func someFunction(externalParameterName localParameterName: Int) {
</span><span class='line'>    // function body goes here, and can use localParameterName
</span><span class='line'>    // to refer to the argument value for that parameter
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>func join(string s1: String, toString s2: String, withJoiner joiner: String)
</span><span class='line'>    -&gt; String {
</span><span class='line'>        return s1 + joiner + s2
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>join(string: "hello", toString: "world", withJoiner: ", ")</span></code></pre></td></tr></table></div></figure>


<h5>Shorthand External Parameter Names</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func containsCharacter(#string: String, #characterToFind: Character) -&gt; Bool {
</span><span class='line'>    for character in string {
</span><span class='line'>        if character == characterToFind {
</span><span class='line'>            return true
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return false
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let containsAVee = containsCharacter(string: "aardvark", characterToFind: "v")
</span><span class='line'>// containsAVee equals true, because "aardvark" contains a "v”</span></code></pre></td></tr></table></div></figure>


<h4>参数的默认值</h4>

<p>将有默认值的参数放在最后</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func join(string s1: String, toString s2: String,
</span><span class='line'>    withJoiner joiner: String = " ") -&gt; String {
</span><span class='line'>        return s1 + joiner + s2
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>join(string: "hello", toString: "world", withJoiner: "-")
</span><span class='line'>// returns "hello-world"
</span><span class='line'>
</span><span class='line'>join(string: "hello", toString: "world")
</span><span class='line'>// returns "hello world"</span></code></pre></td></tr></table></div></figure>


<h5>External Names for Parameters with Default Values</h5>

<p>Swift provides an automatic external name for any defaulted parameter you define
故可以像如下调用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>join("hello", "world", joiner: "-")</span></code></pre></td></tr></table></div></figure>


<h5>Variadic Parameters</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func arithmeticMean(numbers: Double...) -&gt; Double {
</span><span class='line'>    var total: Double = 0
</span><span class='line'>    for number in numbers {
</span><span class='line'>        total += number
</span><span class='line'>    }
</span><span class='line'>    return total / Double(numbers.count)
</span><span class='line'>}
</span><span class='line'>arithmeticMean(1, 2, 3, 4, 5)
</span><span class='line'>// returns 3.0, which is the arithmetic mean of these five numbers
</span><span class='line'>arithmeticMean(3, 8, 19)
</span><span class='line'>// returns 10.0, which is the arithmetic mean of these three numbers</span></code></pre></td></tr></table></div></figure>


<p>一个函数至多只能有一个variadic参数，它必须总是在所有参数的最后!</p>

<h5>Constant 和 Variable 参数</h5>

<p>函数的参数默认是constant的,如果试图修改它将导致错误,我们可以在参数前加var来让它可修改</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func alignRight(var string: String, count: Int, pad: Character) -&gt; String {
</span><span class='line'>    let amountToPad = count - countElements(string)
</span><span class='line'>    for _ in 1...amountToPad {
</span><span class='line'>        string = pad + string
</span><span class='line'>    }
</span><span class='line'>    return string
</span><span class='line'>}
</span><span class='line'>let originalString = "hello"
</span><span class='line'>let paddedString = alignRight(originalString, 10, "-")
</span><span class='line'>// paddedString is equal to "-----hello"
</span><span class='line'>// originalString is still equal to "hello”</span></code></pre></td></tr></table></div></figure>


<h5>In-Out参数</h5>

<p>来看个demo就明白In-Out是如何使用的了</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func swapTwoInts(inout a: Int, inout b: Int) {
</span><span class='line'>    let temporaryA = a
</span><span class='line'>    a = b
</span><span class='line'>    b = temporaryA
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>var someInt = 3
</span><span class='line'>var anotherInt = 107
</span><span class='line'>swapTwoInts(&someInt, &anotherInt)
</span><span class='line'>println("someInt is now \(someInt), and anotherInt is now \(anotherInt)")
</span><span class='line'>// prints "someInt is now 107, and anotherInt is now 3”</span></code></pre></td></tr></table></div></figure>


<p>需要注意的是In-out参数不能有默认值,variadic参数不能与inout一起使用,let也不行</p>

<h5>函数类型</h5>

<p>可以像以下这么用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var mathFunction: (Int, Int) -&gt; Int = addTwoInts
</span><span class='line'>println("Result: \(mathFunction(2, 3))")</span></code></pre></td></tr></table></div></figure>


<p>同样的函数签名也可以赋值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mathFunction = multiplyTwoInts
</span><span class='line'>println("Result: \(mathFunction(2, 3))")
</span><span class='line'>// prints "Result: 6</span></code></pre></td></tr></table></div></figure>


<p>也可以根据Swift的自动推断功能像以下方法使用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let anotherMathFunction = addTwoInts</span></code></pre></td></tr></table></div></figure>


<h5>充当参数的函数类型</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func printMathResult(mathFunction: (Int, Int) -&gt; Int, a: Int, b: Int) {
</span><span class='line'>    println("Result: \(mathFunction(a, b))")
</span><span class='line'>}
</span><span class='line'>printMathResult(addTwoInts, 3, 5)
</span><span class='line'>// prints "Result: 8”</span></code></pre></td></tr></table></div></figure>


<h5>作为返回类型的函数类型</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func stepForward(input: Int) -&gt; Int {
</span><span class='line'>    return input + 1
</span><span class='line'>}
</span><span class='line'>func stepBackward(input: Int) -&gt; Int {
</span><span class='line'>    return input - 1
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>func chooseStepFunction(backwards: Bool) -&gt; (Int) -&gt; Int {
</span><span class='line'>    return backwards ? stepBackward : stepForward
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>var currentValue = 3
</span><span class='line'>let moveNearerToZero = chooseStepFunction(currentValue &gt; 0)
</span><span class='line'>// moveNearerToZero now refers to the stepBackward() function
</span><span class='line'>
</span><span class='line'>println("Counting to zero:")
</span><span class='line'>// Counting to zero:
</span><span class='line'>while currentValue != 0 {
</span><span class='line'>    println("\(currentValue)... ")
</span><span class='line'>    currentValue = moveNearerToZero(currentValue)
</span><span class='line'>}
</span><span class='line'>println("zero!")
</span><span class='line'>// 3...
</span><span class='line'>// 2...
</span><span class='line'>// 1...
</span><span class='line'>// zero!</span></code></pre></td></tr></table></div></figure>


<h5>嵌套函数</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func chooseStepFunction(backwards: Bool) -&gt; (Int) -&gt; Int {
</span><span class='line'>    func stepForward(input: Int) -&gt; Int { return input + 1 }
</span><span class='line'>    func stepBackward(input: Int) -&gt; Int { return input - 1 }
</span><span class='line'>    return backwards ? stepBackward : stepForward
</span><span class='line'>}
</span><span class='line'>var currentValue = -4
</span><span class='line'>let moveNearerToZero = chooseStepFunction(currentValue &gt; 0)
</span><span class='line'>// moveNearerToZero now refers to the nested stepForward() function
</span><span class='line'>while currentValue != 0 {
</span><span class='line'>    println("\(currentValue)... ")
</span><span class='line'>    currentValue = moveNearerToZero(currentValue)
</span><span class='line'>}
</span><span class='line'>println("zero!")
</span><span class='line'>// -4...
</span><span class='line'>// -3...
</span><span class='line'>// -2...
</span><span class='line'>// -1...
</span><span class='line'>// zero!</span></code></pre></td></tr></table></div></figure>


<h4>闭包</h4>

<p>类似OC中的block</p>

<h5>Sort函数</h5>

<p>第一种使用方式</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let names = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
</span><span class='line'>//demo 1
</span><span class='line'>func backwards(s1: String, s2: String) -&gt; Bool {
</span><span class='line'>    return s1 &gt; s2
</span><span class='line'>}
</span><span class='line'>var reversed = sort(names, backwards)</span></code></pre></td></tr></table></div></figure>


<p>第二种</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>reversed = sort(names, { (s1: String, s2: String) -&gt; Bool in
</span><span class='line'>    return s1 &gt; s2
</span><span class='line'>    })</span></code></pre></td></tr></table></div></figure>


<p>closure的body和声明用in关键词分隔开来</p>

<h5>Inferring Type From Context</h5>

<p>由于sort的closure是以参数的形式传入函数，所以swift能从推测出闭包的参数类型和返回值类型,所以我们可以按以下方式来写</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>reversed = sort(names, { s1, s2 in return s1 &gt; s2 } )</span></code></pre></td></tr></table></div></figure>


<p>也可以省略return,因为默认是有return这个关键字的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>reversed = sort(names, { s1, s2 in  s1 &gt; s2 } )</span></code></pre></td></tr></table></div></figure>


<h5>Shorthand Argument Names</h5>

<p>Swift默认为内联的参数名指定了诸如$0, $1等名字
If you use these shorthand argument names within your closure expression, you can omit the closure’s argument list from its definition, and the number and type of the shorthand argument names will be inferred from the expected function type. The in keyword can also be omitted, because the closure expression is made up entirely of its body:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>reversed = sort(names, { $0 &gt; $1 } )</span></code></pre></td></tr></table></div></figure>


<p>以上的demo中,$0和$1分别指向了闭包的第一个和第二个String参数</p>

<h5>Operators Function</h5>

<p>There’s actually an even shorter way to write the closure expression above. Swift’s String type defines its string-specific implementation of the greater-than operator (>) as a function that has two parameters of type String, and returns a value of type Bool. This exactly matches the function type needed for the sort function’s second parameter. Therefore, you can simply pass in the greater-than operator, and Swift will infer that you want to use its string-specific implementation:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>reversed = sort(names, &gt;)</span></code></pre></td></tr></table></div></figure>


<h5>Trailing Closures</h5>

<p>如果你将一个闭包指定为一个函数的最后一个参数，并且这个闭包表达式很长，你可以将它作为一个trailing closure,它是一个写在函数的括号之外的closure</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func someFunctionThatTakesAClosure(closure: () -&gt; ()) {
</span><span class='line'>    // function body goes here
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>// here's how you call this function without using a trailing closure:
</span><span class='line'> 
</span><span class='line'>someFunctionThatTakesAClosure({
</span><span class='line'>    // closure's body goes here
</span><span class='line'>    })
</span><span class='line'> 
</span><span class='line'>// here's how you call this function with a trailing closure instead:
</span><span class='line'> 
</span><span class='line'>someFunctionThatTakesAClosure() {
</span><span class='line'>    // trailing closure's body goes here
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><code>注意</code>:如果一个closure expression是一个函数的惟参数,则无需要括号，故以上也可以写成</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>someFunctionThatTakesAClosure {
</span><span class='line'>    // trailing closure's body goes here
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>来看一个Array中的map方法的例子，只有一个参数，也是一个closure</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let digitNames = [
</span><span class='line'>    0: "Zero", 1: "One", 2: "Two",   3: "Three", 4: "Four",
</span><span class='line'>    5: "Five", 6: "Six", 7: "Seven", 8: "Eight", 9: "Nine"
</span><span class='line'>]
</span><span class='line'>let numbers = [16, 58, 510]
</span><span class='line'>
</span><span class='line'>let strings = numbers.map {
</span><span class='line'>    (var number) -&gt; String in
</span><span class='line'>    var output = ""
</span><span class='line'>    while number &gt; 0 {
</span><span class='line'>        output = digitNames[number % 10]! + output
</span><span class='line'>        number /= 10
</span><span class='line'>    }
</span><span class='line'>    return output
</span><span class='line'>}
</span><span class='line'>// strings is inferred to be of type String[]
</span><span class='line'>// its value is ["OneSix", "FiveEight", "FiveOneZero"]</span></code></pre></td></tr></table></div></figure>


<h5>Capturing Values</h5>

<p>Swift中closure的最简单形式是一个内嵌的函数</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func makeIncrementor(forIncrement amount: Int) -&gt; () -&gt; Int {
</span><span class='line'>    var runningTotal = 0
</span><span class='line'>    func incrementor() -&gt; Int {
</span><span class='line'>        runningTotal += amount
</span><span class='line'>        return runningTotal
</span><span class='line'>    }
</span><span class='line'>    return incrementor
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>because it modifies the runningTotal variable each time it is called, incrementor captures a reference to the current runningTotal variable, and not just a copy of its initial value. Capturing a reference ensures sure that runningTotal does not disappear when the call to makeIncrementor ends, and ensures that runningTotal will continue to be available the next time that the incrementor function is called.
注意以下的调用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let incrementByTen = makeIncrementor(forIncrement: 10)
</span><span class='line'>
</span><span class='line'>incrementByTen()
</span><span class='line'>// returns a value of 10
</span><span class='line'>incrementByTen()
</span><span class='line'>// returns a value of 20
</span><span class='line'>incrementByTen()
</span><span class='line'>// returns a value of 30</span></code></pre></td></tr></table></div></figure>


<p>If you create another incrementor, it will have its own stored reference to a new, separate runningTotal variable</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let incrementBySeven = makeIncrementor(forIncrement: 7)
</span><span class='line'>incrementBySeven()
</span><span class='line'>// returns a value of 7
</span><span class='line'>incrementByTen()
</span><span class='line'>// returns a value of 40</span></code></pre></td></tr></table></div></figure>


<p>incrementByTen捕获的变量与incrementBySeven捕获的无关</p>

<h5>Closure是引用类型</h5>

<p>也就是说如果你将closure赋给两个不同的常量或变量，这两个常量或变量将指向一样的closure</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let alsoIncrementByTen = incrementByTen
</span><span class='line'>alsoIncrementByTen()
</span><span class='line'>// returns a value of 50</span></code></pre></td></tr></table></div></figure>


<h4>Enumerations</h4>

<p>Enumerations in Swift are first-class types in their own right. They adopt many features traditionally supported only by classes, such as computed properties to provide additional information about the enumeration’s current value, and instance methods to provide functionality related to the values the enumeration represents. Enumerations can also define initializers to provide an initial member value; can be extended to expand their functionality beyond their original implementation; and can conform to protocols to provide standard functionality.</p>

<h5>Enumeration Syntax</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum CompassPoint {
</span><span class='line'>    case North
</span><span class='line'>    case South
</span><span class='line'>    case East
</span><span class='line'>    case West
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><code>注意</code></p>

<pre><code>    Unlike C and Objective-C, Swift enumeration members are not assigned a default integer value when they are created. In the CompassPoints example above, North, South, East and West do not implicitly equal 0, 1, 2 and 3. Instead, the different enumeration members are fully-fledged values in their own right, with an explicitly-defined type of CompassPoint.
</code></pre>

<p>多个成员值可以出现在同一行上，用<code>,</code>分开</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum Planet {
</span><span class='line'>    case Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>来看以下例子</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var directionToHead = CompassPoint.West
</span><span class='line'>directionToHead = .East</span></code></pre></td></tr></table></div></figure>


<p>一旦知道了directionToHead的类型，它的type(CompassPoint)可以省略</p>

<h5>Switch..case</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>directionToHead = .South
</span><span class='line'>switch directionToHead {
</span><span class='line'>case .North:
</span><span class='line'>    println("Lots of planets have a north")
</span><span class='line'>case .South:
</span><span class='line'>    println("Watch out for penguins")
</span><span class='line'>case .East:
</span><span class='line'>    println("Where the sun rises")
</span><span class='line'>case .West:
</span><span class='line'>    println("Where the skies are blue")
</span><span class='line'>}
</span><span class='line'>// prints "Watch out for penguins</span></code></pre></td></tr></table></div></figure>


<h5>Associated Values</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum Barcode {
</span><span class='line'>    case UPCA(Int, Int, Int)
</span><span class='line'>    case QRCode(String)
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>var productBarcode = Barcode.UPCA(8, 85909_51226, 3)
</span><span class='line'>productBarcode = .QRCode("ABCDEFGHIJKLMNOP")
</span><span class='line'>
</span><span class='line'>switch productBarcode {
</span><span class='line'>case .UPCA(let numberSystem, let identifier, let check):
</span><span class='line'>    println("UPC-A with value of \(numberSystem), \(identifier), \(check).")
</span><span class='line'>case .QRCode(let productCode):
</span><span class='line'>    println("QR code with value of \(productCode).")
</span><span class='line'>}
</span><span class='line'>// prints "QR code with value of ABCDEFGHIJKLMNOP.”</span></code></pre></td></tr></table></div></figure>


<p>If all of the associated values for a enumeration member are extracted as constants, or if all are extracted as variables, you can place a single var or let annotation before the member name, for brevity:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>switch productBarcode {
</span><span class='line'>case let .UPCA(numberSystem, identifier, check):
</span><span class='line'>    println("UPC-A with value of \(numberSystem), \(identifier), \(check).")
</span><span class='line'>case let .QRCode(productCode):
</span><span class='line'>    println("QR code with value of \(productCode).")
</span><span class='line'>}
</span><span class='line'>// prints "QR code with value of ABCDEFGHIJKLMNOP.”</span></code></pre></td></tr></table></div></figure>


<h5>Raw Values</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum ASCIIControlCharacter: Character {
</span><span class='line'>    case Tab = "\t"
</span><span class='line'>    case LineFeed = "\n"
</span><span class='line'>    case CarriageReturn = "\r"
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>The raw value for a particular enumeration member is always the same. Associated values are set when you create a new constant or variable based on one of the enumeration’s members, and can be different each time you do so.
注意，如果整型被用来作为raw values,如果其他enumeration member无值，则其他的将会自动增长</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum Planet: Int {
</span><span class='line'>    case Mercury = 1, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>.venus = 2,&hellip;依此类推
用toRaw方法来获取一个enumeration member的rawValue值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let earthsOrder = Planet.Earth.toRaw()
</span><span class='line'>// earthsOrder is 3</span></code></pre></td></tr></table></div></figure>


<p>用fromRaw来获取拥有一个raw value的enumberation member</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let possiblePlanet = Planet.fromRaw(7)</span></code></pre></td></tr></table></div></figure>


<p>注意fromRaw返回的是optional value,所以可以像如下这个写</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let positionToFind = 9
</span><span class='line'>if let somePlanet = Planet.fromRaw(positionToFind) {
</span><span class='line'>    switch somePlanet {
</span><span class='line'>    case .Earth:
</span><span class='line'>        println("Mostly harmless")
</span><span class='line'>    default:
</span><span class='line'>        println("Not a safe place for humans")
</span><span class='line'>    }
</span><span class='line'>} else {
</span><span class='line'>    println("There isn't a planet at position \(positionToFind)")
</span><span class='line'>}
</span><span class='line'>// prints "There isn't a planet at position 9”</span></code></pre></td></tr></table></div></figure>


<h4>Classes和Structures</h4>

<p>Unlike other programming languages, Swift does not require you to create separate interface and implementation files for custom classes and structures. In Swift, you define a class or a structure in a single file, and the external interface to that class or structure is automatically made available for other code to use.</p>

<h5>二者的比较</h5>

<p>共同之处</p>

<ul>
<li>Define properties to store values</li>
<li>Define methods to provide functionality</li>
<li>Define subscripts to provide access to their values using subscript syntax</li>
<li>Define initializers to set up their initial state</li>
<li>Be extended to expand their functionality beyond a default implementation</li>
<li><p>Conform to protocols to provide standard functionality of a certain kind
类有的，而Structure木有的</p></li>
<li><p>Inheritance enables one class to inherit the characteristics of another.</p></li>
<li>Type casting enables you to check and interpret the type of a class instance at runtime.</li>
<li>Deinitializers enable an instance of a class to free up any resources it has assigned.</li>
<li>Reference counting allows more than one reference to a class instance.
<code>注意</code>Structures总是被copies的而不用引用计数

<h5>语法定义</h5></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Resolution {
</span><span class='line'>    var width = 0
</span><span class='line'>    var height = 0
</span><span class='line'>}
</span><span class='line'>class VideoMode {
</span><span class='line'>    var resolution = Resolution()
</span><span class='line'>    var interlaced = false
</span><span class='line'>    var frameRate = 0.0
</span><span class='line'>    var name: String?
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h5>Class and Structures Instances</h5>

<p>创建对象实例</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let someResolution = Resolution()
</span><span class='line'>let someVideoMode = VideoMode()</span></code></pre></td></tr></table></div></figure>


<h5>访问属性</h5>

<p>可以层层访问，注意以下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>println("The width of someVideoMode is \(someVideoMode.resolution.width)")
</span><span class='line'>// prints "The width of someVideoMode is 0”</span></code></pre></td></tr></table></div></figure>


<p><code>注意</code>
Unlike Objective-C, Swift enables you to set sub-properties of a structure property directly. In the last example above, the width property of the resolution property of someVideoMode is set directly, without your needing to set the entire resolution property to a new value.</p>

<h5>Memberwise Initializers for Structure Types</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let vga = Resolution(width: 640, height: 480)</span></code></pre></td></tr></table></div></figure>


<p>不过不像structures,类的对象初始化时没有这样默认的成员初始化</p>

<h4>Structus和Enumerations是值类型</h4>

<p>也就是说当它赋给一个变量或专给函数时，它们是copy的
实际上,Swift中的所有基本类型，整型，浮点型，bool型，string，array和dictionary都是值类型，不过幕后都以structure的形式呈现
demo</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum CompassPoint {
</span><span class='line'>    case North, South, East, West
</span><span class='line'>}
</span><span class='line'>var currentDirection = CompassPoint.West
</span><span class='line'>let rememberedDirection = currentDirection
</span><span class='line'>currentDirection = .East
</span><span class='line'>if rememberedDirection == .West {
</span><span class='line'>    println("The remembered direction is still .West")
</span><span class='line'>}
</span><span class='line'>// prints "The remembered direction is still .West”</span></code></pre></td></tr></table></div></figure>


<h4>类是引用类型</h4>

<p>我们可以判断两个变量是否指向同一个类的对象
可以用<code>===</code></p>

<h4>选择类或是Structure</h4>

<p>structure总是按值传递，class总是按引用传递</p>

<h4>Assignment and Copy Behavior for Collection Types</h4>

<ul>
<li>Assignment and Copy Behavior for Dictionaries
当你将一个dictionary赋予一个常量或变量，或者将它传入函数时,dictionary就被copied了
如果keys/values是值类型,它们也在赋值或作为参数传入函数时也被copy了，不过如果它们是引用类型的话，只是引用copy了，对象并未被copy，这种copy规则与一个structure的properties一样，如果structure被copy的话</li>
<li>Assignment and Copy Behavior for Arrays
array的copy规则与dictionary的大大不同!array的copy只发生在你所做的修改会改变array的大小的时候</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var a = [1, 2, 3]
</span><span class='line'>var b = a
</span><span class='line'>var c = a
</span><span class='line'>
</span><span class='line'>a[0] = 42
</span><span class='line'>println(a[0])
</span><span class='line'>// 42
</span><span class='line'>println(b[0])
</span><span class='line'>// 42
</span><span class='line'>println(c[0])
</span><span class='line'>// 42
</span><span class='line'>
</span><span class='line'>a.append(4)
</span><span class='line'>a[0] = 777
</span><span class='line'>println(a[0])
</span><span class='line'>// 777
</span><span class='line'>println(b[0])
</span><span class='line'>// 42
</span><span class='line'>println(c[0])
</span><span class='line'>// 42</span></code></pre></td></tr></table></div></figure>


<h4>确保array是唯一的</h4>

<p>通过对一个array的变量调用unshare方法，你能确保这个这个变量对这个array的唯一性，也就是说如果有多个变量指向同一个array,如果你对其中的某一个变量调用unshare方法，这个array就被copy了,所以这个变量有此array的独立拷贝,不过如果只有一个变量指向此array,则copy不会发生
在以上的例子中,假设我们调用了如下语句</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>b.unshare()</span></code></pre></td></tr></table></div></figure>


<p>则结果如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>b[0] = -105
</span><span class='line'>println(a[0])
</span><span class='line'>// 777
</span><span class='line'>println(b[0])
</span><span class='line'>// -105
</span><span class='line'>println(c[0])
</span><span class='line'>// 42</span></code></pre></td></tr></table></div></figure>


<h5>Checking Whether Two Arrays Share the Same Elements</h5>

<p>Check whether two arrays or subarrays share the same storage and elements by comparing them with the identity operators (=== and !==).</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if b === c {
</span><span class='line'>    println("b and c still share the same array elements.")
</span><span class='line'>} else {
</span><span class='line'>    println("b and c now refer to two independent sets of array elements.")
</span><span class='line'>}
</span><span class='line'>// prints "b and c now refer to two independent sets of array elements.</span></code></pre></td></tr></table></div></figure>


<p>Alternatively, use the identity operators to check whether two subarrays share the same elements. The example below compares two identical subarrays from b and confirms that they refer to the same elements:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if b[0...1] === b[0...1] {
</span><span class='line'>    println("These two subarrays share the same elements.")
</span><span class='line'>} else {
</span><span class='line'>    println("These two subarrays do not share the same elements.")
</span><span class='line'>}
</span><span class='line'>// prints "These two subarrays share the same elements.”</span></code></pre></td></tr></table></div></figure>


<h5>强制array的copy</h5>

<p>调用array的copy方法,这个方法只是对array进行<code>浅复制</code></p>

<h4>Properties</h4>

<p>Properties associate values with a particular class, structure, or enumeration. Stored properties store constant and variable values as part of an instance, whereas computed properties calculate (rather than store) a value. Computed properties are provided by classes, structures, and enumerations. Stored properties are provided only by classes and structures.</p>

<p>Stored and computed properties are usually associated with instances of a particular type. However, properties can also be associated with the type itself. Such properties are known as type properties.</p>

<p>In addition, you can define property observers to monitor changes in a property’s value, which you can respond to with custom actions. Property observers can be added to stored properties you define yourself, and also to properties that a subclass inherits from its superclass.</p>

<h5>Stored Properties</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct FixedLengthRange {
</span><span class='line'>    var firstValue: Int
</span><span class='line'>    let length: Int
</span><span class='line'>}
</span><span class='line'>var rangeOfThreeItems = FixedLengthRange(firstValue: 0, length: 3)
</span><span class='line'>// the range represents integer values 0, 1, and 2
</span><span class='line'>rangeOfThreeItems.firstValue = 6
</span><span class='line'>// the range now represents integer values 6, 7, and 8</span></code></pre></td></tr></table></div></figure>


<h5>Stored Properties of Constant Structure Instances</h5>

<p>如果你创建了一个structure的instance，并且将这个instance赋予一个常量,你不能通过这个常量修改这个instance的properties,即使它们被声明为variable properties</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let rangeOfFourItems = FixedLengthRange(firstValue: 0, length: 4)
</span><span class='line'>// this range represents integer values 0, 1, 2, and 3
</span><span class='line'>rangeOfFourItems.firstValue = 6
</span><span class='line'>// this will report an error, even thought firstValue is a variable property</span></code></pre></td></tr></table></div></figure>


<p>这是因为structure是值类型的缘故,如果一个值类型的instance被标记为常量，则它的property也是
不过class与此不同，class照样可修改instance的variable properties，既然它被赋值为一个常量</p>

<h5>Lazy Stored Properties</h5>

<p>A lazy stored property is a property whose initial value is not calculated until the first time it is used. You indicate a lazy stored property by writing the @lazy attribute before its declaration.</p>

<p><code>注意</code>
You must always declare a lazy property as a variable (with the var keyword), because its initial value may not be retrieved until after instance initialization completes. Constant properties must always have a value before initialization completes, and therefore cannot be declared as lazy.</p>

<p>Lazy properties are useful when the initial value for a property is dependent on outside factors whose values are not known until after an instance’s initialization is complete. Lazy properties are also useful when the initial value for a property requires complex or computationally expensive setup that should not be performed unless or until it is needed.</p>

<p>The example below uses a lazy stored property to avoid unnecessary initialization of a complex class. This example defines two classes called DataImporter and DataManager, neither of which is shown in full:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class DataImporter {
</span><span class='line'>    /*
</span><span class='line'>    DataImporter is a class to import data from an external file.
</span><span class='line'>    The class is assumed to take a non-trivial amount of time to initialize.
</span><span class='line'>    */
</span><span class='line'>    var fileName = "data.txt"
</span><span class='line'>    // the DataImporter class would provide data importing functionality here
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>class DataManager {
</span><span class='line'>    @lazy var importer = DataImporter()
</span><span class='line'>    var data = String[]()
</span><span class='line'>    // the DataManager class would provide data management functionality here
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>let manager = DataManager()
</span><span class='line'>manager.data += "Some data"
</span><span class='line'>manager.data += "Some more data"
</span><span class='line'>// the DataImporter instance for the importer property has not yet been created</span></code></pre></td></tr></table></div></figure>


<p>只有在importer的property首次被访问的时候，importer才被创建</p>

<h4>Computed Properties</h4>

<p>主要用来计算，而非存储，主要提供了一个getter和一个可选的setter</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Point {
</span><span class='line'>    var x = 0.0, y = 0.0
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>struct Size {
</span><span class='line'>    var width = 0.0, height = 0.0
</span><span class='line'>}
</span><span class='line'>struct Rect {
</span><span class='line'>    var origin = Point()
</span><span class='line'>    var size = Size()
</span><span class='line'>    var center: Point {
</span><span class='line'>    get {
</span><span class='line'>        let centerX = origin.x + (size.width / 2)
</span><span class='line'>        let centerY = origin.y + (size.height / 2)
</span><span class='line'>        return Point(x: centerX, y: centerY)
</span><span class='line'>    }
</span><span class='line'>    set(newCenter) {
</span><span class='line'>        origin.x = newCenter.x - (size.width / 2)
</span><span class='line'>        origin.y = newCenter.y - (size.height / 2)
</span><span class='line'>    }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var square = Rect(origin: Point(x: 0.0, y: 0.0),
</span><span class='line'>    size: Size(width: 10.0, height: 10.0))
</span><span class='line'>let initialSquareCenter = square.center
</span><span class='line'>square.center = Point(x: 15.0, y: 15.0)
</span><span class='line'>println("square.origin is now at (\(square.origin.x), \(square.origin.y))")
</span><span class='line'>// prints "square.origin is now at (10.0, 10.0)</span></code></pre></td></tr></table></div></figure>


<h5>Shorthand Setter Declaration</h5>

<p>如果一个computed property的setter并不为新值定义一个名字,则新值的默认名为newValue</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct AlternativeRect {
</span><span class='line'>    var origin = Point()
</span><span class='line'>    var size = Size()
</span><span class='line'>    var center: Point {
</span><span class='line'>    get {
</span><span class='line'>        let centerX = origin.x + (size.width / 2)
</span><span class='line'>        let centerY = origin.y + (size.height / 2)
</span><span class='line'>        return Point(x: centerX, y: centerY)
</span><span class='line'>    }
</span><span class='line'>    set {
</span><span class='line'>        origin.x = newValue.x - (size.width / 2)
</span><span class='line'>        origin.y = newValue.y - (size.height / 2)
</span><span class='line'>    }
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>只读的Computed Properties
一个computed property如果只有一个getter，而没有setter，则它被称为read-only computed property,它只能返回一个值(通过.)而不能赋值</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Cuboid {
</span><span class='line'>    var width = 0.0, height = 0.0, depth = 0.0
</span><span class='line'>    var volume: Double {
</span><span class='line'>    return width * height * depth
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let fourByFiveByTwo = Cuboid(width: 4.0, height: 5.0, depth: 2.0)
</span><span class='line'>println("the volume of fourByFiveByTwo is \(fourByFiveByTwo.volume)")
</span><span class='line'>// prints "the volume of fourByFiveByTwo is 40.0”</span></code></pre></td></tr></table></div></figure>


<p> <code>注意</code>你必须用var来声明computed properties(即使是只读的也一样),let只用于constant properties</p>

<p> #####Property Observer
Property observers observe and respond to changes in a property’s value. Property observers are called every time a property’s value is set, even if the new value is the same as the property’s current value.</p>

<p>You can add property observers to any stored properties you define, apart from lazy stored properties. You can also add property observers to any inherited property (whether stored or computed) by overriding the property within a subclass</p>

<p><code>注意</code>
You don’t need to define property observers for non-overridden computed properties, because you can observe and respond to changes to their value from directly within the computed property’s setter.</p>

<p>you have the option to define either or both of these observers on a property:</p>

<ul>
<li>willSet is called just before the value is stored.</li>
<li>didSet is called immediately after the new value is stored.</li>
</ul>


<p>If you implement a willSet observer, it is passed the new property value as a constant parameter. You can specify a name for this parameter as part of your willSet implementation. If you choose not to write the parameter name and parentheses within your implementation, the parameter will still be made available with a default parameter name of newValue.</p>

<p>Similarly, if you implement a didSet observer, it will be passed a constant parameter containing the old property value. You can name the parameter if you wish, or use the default parameter name of oldValue.</p>

<p><code>注意</code>
willSet and didSet observers are not called when a property is first initialized. They are only called when the property’s value is set outside of an initialization context.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class StepCounter {
</span><span class='line'>    var totalSteps: Int = 0 {
</span><span class='line'>    willSet(newTotalSteps) {
</span><span class='line'>        println("About to set totalSteps to \(newTotalSteps)")
</span><span class='line'>    }
</span><span class='line'>    didSet {
</span><span class='line'>        if totalSteps &gt; oldValue  {
</span><span class='line'>            println("Added \(totalSteps - oldValue) steps")
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let stepCounter = StepCounter()
</span><span class='line'>stepCounter.totalSteps = 200
</span><span class='line'>// About to set totalSteps to 200
</span><span class='line'>// Added 200 steps
</span><span class='line'>stepCounter.totalSteps = 360
</span><span class='line'>// About to set totalSteps to 360
</span><span class='line'>// Added 160 steps
</span><span class='line'>stepCounter.totalSteps = 896
</span><span class='line'>// About to set totalSteps to 896
</span><span class='line'>// Added 536 steps</span></code></pre></td></tr></table></div></figure>


<p><code>注意</code>
If you assign a value to a property within its own didSet observer, the new value that you assign will replace the one that was just set</p>

<h4>全局和局部变量</h4>

<p>The capabilities described above for computing and observing properties are also available to global variables and local variables.</p>

<p>The global and local variables you have encountered in previous chapters have all been stored variables. Stored variables, like stored properties, provide storage for a value of a certain type and allow that value to be set and retrieved.</p>

<p>However, you can also define computed variables and define observers for stored variables, in either a global or local scope. Computed variables calculate rather than store a value, and are written in the same way as computed properties.</p>

<p><code>注意</code>
Global constants and variables are always computed lazily, in a similar manner to Lazy Stored Properties. Unlike lazy stored properties, global constants and variables do not need to be marked with the @lazy attribute.</p>

<p>Local constants and variables are never computed lazily.</p>

<h4>Type Properties</h4>

<p>For value types (that is, structures and enumerations), you can define stored and computed type properties. For classes, you can define computed type properties only.</p>

<p>Stored type properties for value types can be variables or constants. Computed type properties are always declared as variable properties, in the same way as
computed instance properties.</p>

<p><code>注意</code>
Unlike stored instance properties, you must always give stored type properties a default value. This is because the type itself does not have an initializer that can assign a value to a stored type property at initialization time.</p>

<h5>Type property语法</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct SomeStructure {
</span><span class='line'>    static var storedTypeProperty = "Some value."
</span><span class='line'>    static var computedTypeProperty: Int {
</span><span class='line'>    // return an Int value here
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>enum SomeEnumeration {
</span><span class='line'>    static var storedTypeProperty = "Some value."
</span><span class='line'>    static var computedTypeProperty: Int {
</span><span class='line'>    // return an Int value here
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>class SomeClass {
</span><span class='line'>    class var computedTypeProperty: Int {
</span><span class='line'>    // return an Int value here
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h5>Querying and Setting Type Properties</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>println(SomeClass.computedTypeProperty)
</span><span class='line'>// prints "42"
</span><span class='line'> 
</span><span class='line'>println(SomeStructure.storedTypeProperty)
</span><span class='line'>// prints "Some value."
</span><span class='line'>SomeStructure.storedTypeProperty = "Another value."
</span><span class='line'>println(SomeStructure.storedTypeProperty)
</span><span class='line'>// prints "Another value."</span></code></pre></td></tr></table></div></figure>


<p>再来看一个例子</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct AudioChannel {
</span><span class='line'>    static let thresholdLevel = 10
</span><span class='line'>    static var maxInputLevelForAllChannels = 0
</span><span class='line'>    var currentLevel: Int = 0 {
</span><span class='line'>    didSet {
</span><span class='line'>        if currentLevel &gt; AudioChannel.thresholdLevel {
</span><span class='line'>            // cap the new audio level to the threshold level
</span><span class='line'>            currentLevel = AudioChannel.thresholdLevel
</span><span class='line'>        }
</span><span class='line'>        if currentLevel &gt; AudioChannel.maxInputLevelForAllChannels {
</span><span class='line'>            // store this as the new overall maximum input level
</span><span class='line'>            AudioChannel.maxInputLevelForAllChannels = currentLevel
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p><code>注意</code>
In the first of these two checks, the didSet observer sets currentLevel to a different value. This does not, however, cause the observer to be called again.</p>

<h4>方法</h4>

<p>与C不同,Swift中的Structure和enumerations能定义方法</p>

<h5>Instance Methods</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Counter {
</span><span class='line'>    var count = 0
</span><span class='line'>    func increment() {
</span><span class='line'>        count++
</span><span class='line'>    }
</span><span class='line'>    func incrementBy(amount: Int) {
</span><span class='line'>        count += amount
</span><span class='line'>    }
</span><span class='line'>    func reset() {
</span><span class='line'>        count = 0
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let counter = Counter()
</span><span class='line'>// the initial counter value is 0
</span><span class='line'>counter.increment()
</span><span class='line'>// the counter's value is now 1
</span><span class='line'>counter.incrementBy(5)
</span><span class='line'>// the counter's value is now 6
</span><span class='line'>counter.reset()
</span><span class='line'>// the counter's value is now 0</span></code></pre></td></tr></table></div></figure>


<h5>Local and External Parameter Names for Methods</h5>

<p>Function parameters can have both a local name (for use within the function’s body) and an external name (for use when calling the function)</p>

<p>The same is true for method parameters, because methods are just functions that are associated with a type. However, the default behavior of local names and external names is <code>different</code> for functions and methods.</p>

<p>Specifically, Swift gives the first parameter name in a method a local parameter name by default, and gives the second and subsequent parameter names both local and external parameter names by default.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Counter {
</span><span class='line'>    var count: Int = 0
</span><span class='line'>    func incrementBy(amount: Int, numberOfTimes: Int) {
</span><span class='line'>        count += amount * numberOfTimes
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let counter = Counter()
</span><span class='line'>counter.incrementBy(5, numberOfTimes: 3)
</span><span class='line'>// counter value is now 15</span></code></pre></td></tr></table></div></figure>


<p>This default behavior effectively treats the method as if you had written a hash symbol (#) before the numberOfTimes parameter:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func incrementBy(amount: Int, #numberOfTimes: Int) {
</span><span class='line'>    count += amount * numberOfTimes
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h5>Modifying External Parameter Name Behavior for Methods</h5>

<p>Sometimes it’s useful to provide an external parameter name for a method’s first parameter, even though this is not the default behavior. You can either add an explicit external name yourself, or you can prefix the first parameter’s name with a hash symbol to use the local name as an external name too.</p>

<p>Conversely, if you do not want to provide an external name for the second or subsequent parameter of a method, override the default behavior by using an underscore character (_) as an explicit external parameter name for that parameter.</p>

<h5>The self Property</h5>

<p>以上的可以改成以下的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func increment() {
</span><span class='line'>    self.count++
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Swift assumes that you are referring to a property or method of the current instance whenever you use a known property or method name within a method.</p>

<p>The main exception to this rule occurs when a parameter name for an instance method has the same name as a property of that instance. In this situation, the parameter name takes precedence, and it becomes necessary to refer to the property in a more qualified way. You use the implicit self property to distinguish between the parameter name and the property name.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Point {
</span><span class='line'>    var x = 0.0, y = 0.0
</span><span class='line'>    func isToTheRightOfX(x: Double) -&gt; Bool {
</span><span class='line'>        return self.x &gt; x
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let somePoint = Point(x: 4.0, y: 5.0)
</span><span class='line'>if somePoint.isToTheRightOfX(1.0) {
</span><span class='line'>    println("This point is to the right of the line where x == 1.0")
</span><span class='line'>}
</span><span class='line'>// prints "This point is to the right of the line where x == 1.0”</span></code></pre></td></tr></table></div></figure>


<h4>Modifying Value Types from Within Instance Methods</h4>

<p>Structures 和 enumerations都是值类型,值类型的属性是不能在它的instance方法里修改的,不过你可以在方法名前加mutating来对property进行修改</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Point {
</span><span class='line'>    var x = 0.0, y = 0.0
</span><span class='line'>    mutating func moveByX(deltaX: Double, y deltaY: Double) {
</span><span class='line'>        x += deltaX
</span><span class='line'>        y += deltaY
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var somePoint = Point(x: 1.0, y: 1.0)
</span><span class='line'>somePoint.moveByX(2.0, y: 3.0)
</span><span class='line'>println("The point is now at (\(somePoint.x), \(somePoint.y))")
</span><span class='line'>// prints "The point is now at (3.0, 4.0)”</span></code></pre></td></tr></table></div></figure>


<p>The method can also assign a completely new instance to its implicit self property, and this new instance will replace the existing one when the method ends.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Point {
</span><span class='line'>    var x = 0.0, y = 0.0
</span><span class='line'>    mutating func moveByX(deltaX: Double, y deltaY: Double) {
</span><span class='line'>        self = Point(x: x + deltaX, y: y + deltaY)
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Mutating methods for enumerations can set the implicit self parameter to be a different member from the same enumeration:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum TriStateSwitch {
</span><span class='line'>    case Off, Low, High
</span><span class='line'>    mutating func next() {
</span><span class='line'>        switch self {
</span><span class='line'>        case Off:
</span><span class='line'>            self = Low
</span><span class='line'>        case Low:
</span><span class='line'>            self = High
</span><span class='line'>        case High:
</span><span class='line'>            self = Off
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var ovenLight = TriStateSwitch.Low
</span><span class='line'>ovenLight.next()
</span><span class='line'>// ovenLight is now equal to .High
</span><span class='line'>ovenLight.next()
</span><span class='line'>// ovenLight is now equal to .Off</span></code></pre></td></tr></table></div></figure>


<h4>Type Methods</h4>

<p> 对class,在方法的func关键字前加class,对structure和enumeration,在func前加static</p>

<p>  <code>注意</code>:In Objective-C, you can define type-level methods only for Objective-C classes. In Swift, you can define type-level methods for all classes, structures, and enumerations. Each type method is explicitly scoped to the type it supports.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>//对类而言
</span><span class='line'>class SomeClass {
</span><span class='line'>    class func someTypeMethod() {
</span><span class='line'>        // type method implementation goes here
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>SomeClass.someTypeMethod()
</span><span class='line'>//对structure和enumeration而言
</span></code></pre></td></tr></table></div></figure>


<p>在一个type方法的方法体里,self指的是type本身</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct LevelTracker {
</span><span class='line'>    static var highestUnlockedLevel = 1
</span><span class='line'>    static func unlockLevel(level: Int) {
</span><span class='line'>        if level &gt; highestUnlockedLevel { highestUnlockedLevel = level }
</span><span class='line'>    }
</span><span class='line'>    static func levelIsUnlocked(level: Int) -&gt; Bool {
</span><span class='line'>        return level &lt;= highestUnlockedLevel
</span><span class='line'>    }
</span><span class='line'>    var currentLevel = 1
</span><span class='line'>    mutating func advanceToLevel(level: Int) -&gt; Bool {
</span><span class='line'>        if LevelTracker.levelIsUnlocked(level) {
</span><span class='line'>            currentLevel = level
</span><span class='line'>            return true
</span><span class='line'>        } else {
</span><span class='line'>            return false
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>与Player类的结合使用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Player {
</span><span class='line'>    var tracker = LevelTracker()
</span><span class='line'>    let playerName: String
</span><span class='line'>    func completedLevel(level: Int) {
</span><span class='line'>        LevelTracker.unlockLevel(level + 1)
</span><span class='line'>        tracker.advanceToLevel(level + 1)
</span><span class='line'>    }
</span><span class='line'>    init(name: String) {
</span><span class='line'>        playerName = name
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h4>Subscripts</h4>

<p>You can define multiple subscripts for a single type, and the appropriate subscript overload to use is selected based on the type of index value you pass to the subscript. Subscripts are not limited to a single dimension, and you can define subscripts with multiple input parameters to suit your custom type’s needs.</p>

<h5>Subscript Syntax</h5>

<p>不像其他的instance方法,subscripts可以是读写的或是只读的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>subscript(index: Int) -&gt; Int {
</span><span class='line'>    get {
</span><span class='line'>        // return an appropriate subscript value here
</span><span class='line'>    }
</span><span class='line'>    set(newValue) {
</span><span class='line'>        // perform a suitable setting action here
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>对于只读的computed property,对只读的subscripts,我们可以去掉get关键字</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>subscript(index: Int) -&gt; Int {
</span><span class='line'>    // return an appropriate subscript value here
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>struct TimesTable {
</span><span class='line'>    let multiplier: Int
</span><span class='line'>    subscript(index: Int) -&gt; Int {
</span><span class='line'>        return multiplier * index
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>let threeTimesTable = TimesTable(multiplier: 3)
</span><span class='line'>println("six times three is \(threeTimesTable[6])")
</span><span class='line'>// prints "six times three is 18”</span></code></pre></td></tr></table></div></figure>


<h5>Subscript Options</h5>

<p>Subscripts能接收任意数量的参数，并且这些参数可以是任意类型的
Subscripts能接收variable 参数 和 variadic 参数,但不能使用in-out参数或是为参数提供默认值</p>

<p>A class or structure can provide as many subscript implementations as it needs, and the appropriate subscript to be used will be inferred based on the types of the value or values that are contained within the subscript braces at the point that the subscript is used. This definition of multiple subscripts is known as subscript overloading.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct Matrix {
</span><span class='line'>    let rows: Int, columns: Int
</span><span class='line'>    var grid: Double[]
</span><span class='line'>    init(rows: Int, columns: Int) {
</span><span class='line'>        self.rows = rows
</span><span class='line'>        self.columns = columns
</span><span class='line'>        grid = Array(count: rows * columns, repeatedValue: 0.0)
</span><span class='line'>    }
</span><span class='line'>    func indexIsValidForRow(row: Int, column: Int) -&gt; Bool {
</span><span class='line'>        return row &gt;= 0 && row &lt; rows && column &gt;= 0 && column &lt; columns
</span><span class='line'>    }
</span><span class='line'>    subscript(row: Int, column: Int) -&gt; Double {
</span><span class='line'>        get {
</span><span class='line'>            assert(indexIsValidForRow(row, column: column), "Index out of range")
</span><span class='line'>            return grid[(row * columns) + column]
</span><span class='line'>        }
</span><span class='line'>        set {
</span><span class='line'>            assert(indexIsValidForRow(row, column: column), "Index out of range")
</span><span class='line'>            grid[(row * columns) + column] = newValue
</span><span class='line'>        }
</span><span class='line'>     }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>var matrix = Matrix(rows: 2, columns: 2)
</span><span class='line'>
</span><span class='line'>matrix[0, 1] = 1.5
</span><span class='line'>matrix[1, 0] = 3.2
</span><span class='line'>
</span><span class='line'>let someValue = matrix[2, 2]
</span><span class='line'>// this triggers an assert, because [2, 2] is outside of the matrix bounds
</span></code></pre></td></tr></table></div></figure>


<h4>继承</h4>

<p>只有类能继承
Classes can also add property observers to inherited properties in order to be notified when the value of a property changes. Property observers can be added to any property, regardless of whether it was originally defined as a stored or computed property.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Vehicle {
</span><span class='line'>    var numberOfWheels: Int
</span><span class='line'>    var maxPassengers: Int
</span><span class='line'>    func description() -&gt; String {
</span><span class='line'>        return "\(numberOfWheels) wheels; up to \(maxPassengers) passengers"
</span><span class='line'>    }
</span><span class='line'>    init() {
</span><span class='line'>        numberOfWheels = 0
</span><span class='line'>        maxPassengers = 1
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let someVehicle = Vehicle()
</span></code></pre></td></tr></table></div></figure>


<h5>Subclassing</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Bicycle: Vehicle {
</span><span class='line'>    init() {
</span><span class='line'>        super.init()
</span><span class='line'>        numberOfWheels = 2
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let bicycle = Bicycle()
</span><span class='line'>println("Bicycle: \(bicycle.description())")
</span><span class='line'>// Bicycle: 2 wheels; up to 1 passengers</span></code></pre></td></tr></table></div></figure>


<p>The Bicycle class also defines an initializer to set up its tailored characteristics. The initializer for Bicycle calls super.init(), the initializer for the Bicycle class’s superclass, Vehicle, and ensures that all of the inherited properties are initialized by Vehicle before Bicycle tries to modify them.
<code>注意</code>:initializers are not inherited by default in Swift. For more information</p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>





  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"allentofight"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END --></div>
  </section>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2014 - AllenToFight -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
	

<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->







		</div>
	</div>
</body>
</html>
