<div class="highlight"><pre><span class="err">```</span>

<span class="nx">To</span> <span class="nx">dynamically</span> <span class="nx">group</span> <span class="nx">a</span> <span class="nx">store</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">run</span> <span class="nx">the</span> <span class="nx">setGrouper</span><span class="p">()</span> <span class="nx">method</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">store</span> <span class="nx">object</span><span class="o">:</span>

<span class="err">```</span><span class="nx">javascript</span>
<span class="nx">Ext</span><span class="p">.</span><span class="nx">getStore</span><span class="p">(</span><span class="s1">&#39;Cabs&#39;</span><span class="p">).</span><span class="nx">setGrouper</span><span class="p">({</span>
    <span class="nx">direction</span><span class="o">:</span> <span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="c1">//or DESC </span>
    <span class="nx">property</span><span class="o">:</span> <span class="s1">&#39;&lt;model-field-name&gt;&#39;</span>
<span class="p">});</span>
<span class="err">```</span>

<span class="nx">You</span> <span class="nx">will</span> <span class="nx">implement</span> <span class="nx">grouping</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">Cabs</span> <span class="nx">store</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">FindACab</span> <span class="nx">app</span> <span class="nx">list</span><span class="p">.</span> <span class="nx">This</span> <span class="nx">time</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">group</span> <span class="nx">on</span> <span class="nx">city</span><span class="p">,</span> <span class="nx">because</span> <span class="nx">all</span> <span class="nx">the</span> <span class="nx">data</span> <span class="nx">that</span> <span class="nx">is</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">Cabs</span> <span class="nx">store</span> <span class="nx">already</span> <span class="nx">shares</span> <span class="nx">the</span> <span class="nx">same</span> <span class="nx">city</span> <span class="err">—</span> <span class="k">for</span> <span class="nx">example</span><span class="p">,</span> <span class="nx">Amsterdam</span><span class="p">.</span> <span class="nx">Therefore</span><span class="p">,</span> <span class="kd">let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">group</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">first</span> <span class="nx">alphabetical</span> <span class="nx">character</span> <span class="nx">of</span> <span class="nx">a</span> <span class="nx">cab</span> <span class="nx">service</span> <span class="nx">name</span><span class="p">.</span> <span class="p">(</span><span class="nx">See</span> <span class="nx">Figure</span> <span class="mi">9</span><span class="o">-</span><span class="mi">1</span><span class="p">.)</span> <span class="nx">You</span> <span class="nx">would</span> <span class="nx">see</span> <span class="nx">a</span> <span class="nx">group</span> <span class="err">“</span><span class="nx">A</span><span class="err">”</span> <span class="nx">that</span> <span class="nx">lists</span> <span class="nx">all</span> <span class="nx">names</span> <span class="nx">that</span> <span class="nx">start</span> <span class="kd">with</span> <span class="nx">an</span> <span class="nx">A</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">group</span> <span class="err">“</span><span class="nx">B</span><span class="err">”</span> <span class="nx">that</span> <span class="nx">lists</span> <span class="nx">all</span> <span class="nx">names</span> <span class="nx">that</span> <span class="nx">start</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">B</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">so</span> <span class="nx">on</span><span class="p">.</span> <span class="nx">It</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span> <span class="nx">same</span> <span class="nx">behavior</span> <span class="nx">as</span> <span class="nx">when</span> <span class="nx">you</span> <span class="nx">open</span> <span class="nx">the</span> <span class="nx">contacts</span> <span class="nx">list</span> <span class="nx">on</span> <span class="nx">an</span> <span class="nx">iPhone</span><span class="p">.</span> <span class="nx">Names</span> <span class="nx">are</span> <span class="nx">grouped</span><span class="p">,</span> <span class="nx">and</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">want</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">even</span> <span class="nx">display</span> <span class="nx">an</span> <span class="nx">index</span> <span class="nx">bar</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">side</span> <span class="nx">to</span> <span class="nx">quickly</span> <span class="nx">browse</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">corresponding</span> <span class="nx">character</span><span class="p">.</span>

<span class="p">{</span><span class="o">%</span> <span class="nx">img</span> <span class="o">/</span><span class="nx">images</span><span class="o">/</span><span class="mi">2014</span><span class="o">/</span><span class="mi">10</span><span class="o">/</span><span class="nx">figure7</span><span class="o">-</span><span class="mi">3</span><span class="p">.</span><span class="nx">png</span><span class="o">%</span><span class="p">}</span>

<span class="nx">To</span> <span class="nx">achieve</span> <span class="k">this</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">will</span> <span class="nx">need</span> <span class="nx">the</span> <span class="nx">Ext</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">Store</span><span class="p">.</span><span class="nx">grouper</span> <span class="nx">object</span><span class="p">,</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">custom</span> <span class="nx">group</span> <span class="kd">function</span><span class="o">:</span> <span class="nx">groupFn</span><span class="p">().</span> <span class="nx">You</span> <span class="nx">can</span> <span class="nx">set</span> <span class="nx">the</span> <span class="nx">grouper</span> <span class="nx">object</span> <span class="nx">directly</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">store</span> <span class="kr">class</span> <span class="nx">definition</span><span class="p">,</span> <span class="nx">as</span> <span class="nx">shown</span> <span class="k">in</span> <span class="nx">Example</span> <span class="mi">9</span><span class="o">-</span><span class="mi">4</span><span class="p">.</span>

<span class="err">```</span><span class="nx">javascript</span>
<span class="nx">grouper</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">groupFn</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">record</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">record</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toUpperCase</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="err">```</span>

<span class="nx">The</span> <span class="nx">groupFn</span> <span class="kd">function</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">code</span> <span class="k">return</span> <span class="nx">record</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toUpperCase</span><span class="p">();</span> <span class="nx">will</span> <span class="nx">group</span> <span class="nx">the</span> <span class="nx">data</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">store</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">first</span> <span class="p">(</span><span class="nx">uppercase</span><span class="p">)</span> <span class="nx">character</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">name</span> <span class="nx">field</span><span class="p">.</span>

<span class="err">####</span> <span class="nx">Filtering</span> <span class="nx">a</span> <span class="nx">Data</span> <span class="nx">Store</span> <span class="nx">Locally</span>

<span class="nx">A</span> <span class="nx">data</span> <span class="nx">store</span> <span class="nx">can</span> <span class="nx">also</span> <span class="nx">filter</span> <span class="nx">records</span><span class="p">.</span> <span class="nx">When</span> <span class="nx">a</span> <span class="nx">filter</span> <span class="nx">is</span> <span class="nx">applied</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">data</span> <span class="nx">store</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">remove</span> <span class="nx">records</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">same</span> <span class="nx">records</span> <span class="nx">are</span> <span class="nx">still</span> <span class="nx">available</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">store</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">only</span> <span class="nx">the</span> <span class="nx">records</span> <span class="nx">that</span> <span class="nx">match</span> <span class="nx">the</span> <span class="nx">filter</span> <span class="nx">criteria</span> <span class="nx">are</span> <span class="nx">displayed</span><span class="p">.</span>

<span class="nx">Filters</span> <span class="nx">are</span> <span class="nx">added</span> <span class="nx">as</span> <span class="nx">arrays</span><span class="p">.</span> <span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">how</span> <span class="nx">to</span> <span class="nx">implement</span> <span class="nx">a</span> <span class="nx">filter</span> <span class="nx">array</span> <span class="nx">directly</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">store</span> <span class="kr">class</span> <span class="nx">definition</span><span class="o">:</span>
</pre></div>