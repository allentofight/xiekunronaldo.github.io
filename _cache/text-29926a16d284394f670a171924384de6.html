<div class="highlight"><pre><code class="text">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
int main(int argc, char *argv[]) {
    char line[80];
    if (argc != 6) {
        fprintf(stderr, &quot;You need to give 6 arguments\n&quot;);
        return 1;
    }

    FILE *in = fopen(&quot;spooky.csv&quot;, &quot;r&quot;);

    FILE *file1 = fopen(argv[2], &quot;w&quot;);

    FILE *file2 = fopen(argv[4], &quot;w&quot;);

    FILE *file3 = fopen(argv[5], &quot;w&quot;);

    while (fscanf(in, &quot;%79[^\n]\n&quot;, line) == 1) {
        if (strstr(line, argv[1]))
            fprintf(file1, &quot;%s\n&quot;, line);
        else if (strstr(line, argv[3]))
            fprintf(file2, &quot;%s\n&quot;, line);
        else 
            fprintf(file3, &quot;%s\n&quot;, line);
    }

    fclose(file1);
    fclose(file2);
    fclose(file3); 
    return 0;
}
</code></pre>
</div>
