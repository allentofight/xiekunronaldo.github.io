<div class="highlight"><pre><code class="text">triangular_numbers = Enumerator.new do |yielder|


 # ... as before


end


class Enumerator

    def infinite_select(&amp;block)

        Enumerator.new do |yielder| 


            self.each do |value|


                yielder.yield(value) if block.call(value) 

            end

        end 


    end

end


p triangular_numbers

   .infinite_select {|val| val % 10 == 0}

   .infinite_select {|val| val.to_s =~ /3/ }

   .first(5)

produces:
[300, 630, 1830, 3160, 3240]
</code></pre>
</div>
