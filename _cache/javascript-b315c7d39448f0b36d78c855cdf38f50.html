<div class="highlight"><pre><span class="nx">You</span> <span class="nx">can</span> <span class="nx">also</span> <span class="nx">filter</span> <span class="nx">programmatically</span><span class="p">.</span> <span class="nx">Just</span> <span class="nx">run</span> <span class="nx">the</span> <span class="nx">following</span> <span class="nx">method</span> <span class="nx">from</span> <span class="nx">a</span> <span class="nx">store</span> <span class="nx">instance</span><span class="o">:</span>

<span class="err">```</span>
<span class="nx">Ext</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">Store</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">filters</span><span class="p">,</span> <span class="p">[</span><span class="nx">value</span><span class="p">],</span> <span class="p">[</span><span class="nx">anyMatch</span><span class="p">],</span> <span class="p">[</span><span class="nx">caseSensitive</span><span class="p">]);</span>
<span class="err">```</span>
<span class="nx">It</span><span class="err">’</span><span class="nx">s</span> <span class="nx">possible</span> <span class="nx">to</span> <span class="nx">filter</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">first</span> <span class="nx">characters</span> <span class="nx">of</span> <span class="nx">a</span> <span class="nx">field</span> <span class="nx">or</span> <span class="nx">from</span> <span class="nx">anywhere</span> <span class="p">(</span><span class="nx">argument</span><span class="o">:</span> <span class="nx">anyMatch</span><span class="p">),</span> <span class="nx">and</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">also</span> <span class="nx">possible</span> <span class="nx">to</span> <span class="nx">filter</span> <span class="k">for</span> <span class="k">case</span> <span class="nx">sensitivity</span> <span class="p">(</span><span class="nx">argument</span><span class="o">:</span> <span class="err">`</span><span class="nx">caseSensitive</span><span class="err">`</span><span class="p">).</span>

<span class="err">####</span> <span class="nx">Custom</span> <span class="nx">Filter</span> <span class="nx">Functions</span>

<span class="nx">You</span> <span class="nx">can</span> <span class="nx">also</span> <span class="nx">create</span> <span class="nx">custom</span> <span class="nx">filter</span> <span class="nx">functions</span><span class="p">.</span> <span class="nx">To</span> <span class="k">do</span> <span class="nx">so</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">set</span> <span class="nx">a</span> <span class="nx">filterFn</span> <span class="k">in</span> <span class="nx">the</span>
<span class="nx">array</span> <span class="nx">or</span> <span class="nx">use</span> <span class="nx">the</span> <span class="nx">filterBy</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="nx">method</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">store</span><span class="p">.</span>

<span class="err">```</span>
<span class="nx">filters</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">filterFn</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;phone&quot;</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}],</span>
<span class="err">```</span>
<span class="err">####</span> <span class="nx">Stacking</span> <span class="nx">Filters</span>
<span class="nx">o</span> <span class="nx">add</span> <span class="nx">filters</span> <span class="nx">on</span> <span class="nx">top</span> <span class="nx">of</span> <span class="nx">each</span> <span class="nx">other</span> <span class="err">—</span> <span class="k">for</span> <span class="nx">example</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">filter</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">name</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">value</span> <span class="nx">of</span> <span class="nx">Taxi</span> <span class="nx">and</span> <span class="nx">filter</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">distance</span> <span class="nx">of</span> <span class="mi">20</span> <span class="nx">miles</span> <span class="err">—</span> <span class="nx">you</span> <span class="nx">pass</span> <span class="k">in</span> <span class="nx">an</span> <span class="nx">array</span><span class="p">.</span> <span class="nx">Here</span><span class="p">,</span> <span class="nx">I</span> <span class="nx">stack</span> <span class="nx">a</span> <span class="nx">couple</span> <span class="nx">of</span> <span class="nx">filters</span> <span class="nx">on</span> <span class="nx">top</span> <span class="nx">of</span> <span class="nx">each</span> <span class="nx">other</span><span class="o">:</span>

<span class="err">```</span>
<span class="nx">store</span><span class="p">.</span><span class="nx">filter</span><span class="p">([{</span>
    <span class="nx">property</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;Taxi&quot;</span>
<span class="p">},</span> <span class="p">{</span>
    <span class="nx">property</span><span class="o">:</span> <span class="s2">&quot;distance&quot;</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;20&quot;</span>
<span class="p">}]);</span>
<span class="err">```</span>

<span class="err">`</span><span class="nx">Note</span><span class="err">`</span>

<span class="nx">Instead</span> <span class="nx">of</span> <span class="nx">passing</span> <span class="nx">an</span> <span class="nx">array</span> <span class="kd">with</span> <span class="nx">filter</span> <span class="nx">objects</span> <span class="nx">into</span> <span class="nx">the</span> <span class="nx">filter</span><span class="p">()</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">I</span> <span class="nx">could</span> <span class="nx">call</span> <span class="nx">the</span> <span class="nx">filter</span><span class="p">()</span> <span class="nx">method</span> <span class="nx">again</span> <span class="nx">without</span> <span class="nx">the</span> <span class="nx">filter</span> <span class="nx">objects</span> <span class="nx">as</span> <span class="nx">arguments</span><span class="p">.</span> <span class="nx">Unlike</span> <span class="nx">sorters</span><span class="p">,</span> <span class="nx">filters</span> <span class="nx">won</span><span class="err">’</span><span class="nx">t</span> <span class="nx">reset</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">call</span> <span class="nx">them</span> <span class="nx">again</span><span class="p">.</span> <span class="nx">When</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">renew</span> <span class="nx">the</span> <span class="nx">filter</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">have</span> <span class="nx">to</span> <span class="nx">clear</span> <span class="nx">it</span> <span class="nx">first</span><span class="o">:</span>

<span class="err">```</span>
<span class="nx">store</span><span class="p">.</span><span class="nx">clearFilter</span><span class="p">();</span>
<span class="err">```</span>

<span class="err">####</span> <span class="nx">Filtering</span> <span class="nx">Data</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">Server</span>

<span class="nx">The</span> <span class="nx">data</span> <span class="nx">that</span> <span class="nx">you</span> <span class="nx">retrieve</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">side</span> <span class="nx">might</span> <span class="nx">be</span> <span class="nx">very</span> <span class="nx">large</span><span class="p">.</span> <span class="nx">It</span> <span class="nx">could</span> <span class="nx">be</span> <span class="nx">faster</span> <span class="nx">to</span> <span class="nx">filter</span> <span class="nx">it</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">side</span> <span class="nx">instead</span> <span class="nx">of</span> <span class="nx">locally</span><span class="p">.</span> <span class="nx">Luckily</span><span class="p">,</span> <span class="nx">Sencha</span> <span class="nx">Touch</span> <span class="nx">provides</span> <span class="nx">a</span> <span class="nx">way</span> <span class="nx">to</span> <span class="nx">implement</span> <span class="nx">server</span><span class="o">-</span><span class="nx">side</span> <span class="nx">filtering</span><span class="p">.</span>

<span class="nx">You</span> <span class="nx">will</span> <span class="nx">use</span> <span class="nx">the</span> <span class="nx">remoteFilter</span> <span class="kr">boolean</span> <span class="nx">and</span> <span class="nx">the</span> <span class="nx">array</span> <span class="kd">with</span> <span class="nx">filters</span><span class="p">.</span> <span class="nx">Here</span><span class="err">’</span><span class="nx">s</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">store</span> <span class="kr">class</span> <span class="nx">definition</span><span class="o">:</span>

<span class="err">```</span>
<span class="nx">remoteFilter</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
<span class="nx">filters</span><span class="o">:</span> <span class="p">[{</span>
    <span class="nx">property</span><span class="o">:</span> <span class="s2">&quot;fieldname&quot;</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;match&quot;</span>
<span class="p">}],</span>
<span class="err">```</span>
<span class="nx">because</span> <span class="nx">we</span> <span class="k">do</span> <span class="nx">not</span> <span class="nx">have</span> <span class="nx">server</span><span class="o">-</span><span class="nx">side</span> <span class="nx">control</span> <span class="nx">over</span> <span class="nx">Yelp</span><span class="p">.</span><span class="nx">com</span><span class="p">,</span> <span class="nx">we</span> <span class="nx">won</span><span class="err">’</span><span class="nx">t</span> <span class="nx">implement</span> <span class="nx">a</span> <span class="nx">remote</span> <span class="nx">filter</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">FindACab</span> <span class="nx">app</span><span class="p">.</span> <span class="nx">I</span> <span class="k">do</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">share</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">of</span> <span class="nx">a</span> <span class="nx">remote</span> <span class="nx">filter</span><span class="p">,</span> <span class="nx">however</span><span class="p">.</span> <span class="nx">In</span> <span class="k">this</span> <span class="nx">demo</span><span class="p">,</span> <span class="nx">there</span> <span class="nx">is</span> <span class="nx">another</span> <span class="nx">data</span> <span class="nx">store</span> <span class="kd">with</span> <span class="nx">Car</span> <span class="nx">objects</span> <span class="nx">and</span> <span class="kd">with</span> <span class="nx">remote</span> <span class="nx">filtering</span> <span class="nx">enabled</span><span class="p">.</span> <span class="nx">It</span> <span class="nx">has</span> <span class="nx">a</span> <span class="nx">filter</span> <span class="nx">set</span> <span class="nx">that</span> <span class="nx">filters</span> <span class="nx">on</span> <span class="nx">car</span> <span class="nx">brand</span><span class="o">:</span>

<span class="err">```</span>
<span class="nx">Ext</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;RemoteTest.store.Cars&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">extend</span><span class="o">:</span> <span class="s1">&#39;Ext.data.Store&#39;</span><span class="p">,</span>
    <span class="nx">requires</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Ext.data.proxy.JsonP&#39;</span><span class="p">],</span>
    <span class="nx">config</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">model</span><span class="o">:</span> <span class="s1">&#39;RemoteTest.model.Car&#39;</span><span class="p">,</span>
        <span class="nx">autoLoad</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">pageSize</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="nx">remoteFilter</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">filters</span><span class="o">:</span> <span class="p">[{</span>
            <span class="nx">property</span><span class="o">:</span> <span class="s2">&quot;brand&quot;</span><span class="p">,</span>
            <span class="nx">value</span><span class="o">:</span> <span class="s2">&quot;BMW&quot;</span>
        <span class="p">}],</span>
        <span class="nx">proxy</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;jsonp&#39;</span><span class="p">,</span>
            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://someurl.com/test.php&#39;</span><span class="p">,</span>
            <span class="nx">reader</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">rootProperty</span><span class="o">:</span> <span class="s1">&#39;results&#39;</span><span class="p">,</span>
                <span class="nx">totalProperty</span><span class="o">:</span> <span class="s1">&#39;total&#39;</span><span class="p">,</span>
                <span class="nx">successProperty</span><span class="o">:</span> <span class="s1">&#39;success&#39;</span>
            <span class="p">}</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="err">```</span>
<span class="err">`</span><span class="nx">WARNING</span><span class="err">`</span>

<span class="nx">When</span> <span class="nx">the</span> <span class="nx">remoteFilter</span> <span class="nx">configuration</span> <span class="nx">has</span> <span class="nx">been</span> <span class="nx">set</span> <span class="nx">to</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">will</span> <span class="nx">have</span> <span class="nx">to</span> <span class="nx">manually</span> <span class="nx">call</span> <span class="nx">the</span> <span class="nx">load</span> <span class="nx">method</span> <span class="nx">after</span> <span class="nx">every</span> <span class="nx">filter</span> <span class="nx">you</span> <span class="nx">set</span> <span class="nx">to</span> <span class="nx">retrieve</span> <span class="nx">the</span> <span class="nx">filtered</span> <span class="nx">data</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">server</span><span class="p">.</span>

<span class="nx">Let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">assume</span> <span class="nx">that</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//&lt;someurl&gt;.com/test.php is a working web service that sends</span>
<span class="nx">Car</span> <span class="nx">objects</span> <span class="nx">back</span><span class="p">.</span> <span class="nx">We</span><span class="err">’</span><span class="nx">ll</span> <span class="nx">filter</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">car</span> <span class="nx">brand</span> <span class="nx">of</span> <span class="nx">BMW</span><span class="p">,</span> <span class="mi">20</span> <span class="nx">per</span> <span class="nx">time</span> <span class="p">(</span><span class="nx">page</span><span class="p">).</span>
<span class="nx">In</span> <span class="nx">the</span> <span class="nx">Google</span> <span class="nx">Developer</span> <span class="nx">Network</span> <span class="nx">tab</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">see</span> <span class="nx">a</span> <span class="nx">request</span> <span class="nx">is</span> <span class="nx">made</span> <span class="nx">that</span> <span class="nx">sends</span> <span class="nx">the</span>
<span class="nx">following</span> <span class="nx">GET</span> <span class="nx">request</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">server</span><span class="o">:</span>

<span class="err">```</span>
<span class="nx">http</span><span class="o">:</span><span class="c1">//someurl.com/test.php?_dc=1387182737587&amp;page=1&amp;start=0&amp;limit=20 &amp;filter=%5B%7B%22property%22%3A%22brand%22%2C%22value%22%3A%22BMW%22%7D%5D &amp;callback=Ext.data.JsonP.callback1</span>
<span class="err">```</span>

<span class="nx">Let</span><span class="err">’</span><span class="nx">s</span> <span class="nx">format</span> <span class="nx">the</span> <span class="nx">query</span> <span class="nx">string</span> <span class="nx">parameters</span><span class="o">:</span>

<span class="err">```</span>
<span class="nx">page</span><span class="o">:</span> <span class="mi">1</span>
<span class="nx">start</span><span class="o">:</span> <span class="mi">0</span>
<span class="nx">limit</span><span class="o">:</span> <span class="mi">20</span>
<span class="nx">filter</span><span class="o">:</span> <span class="p">[{</span>
    <span class="s2">&quot;property&quot;</span><span class="o">:</span> <span class="s2">&quot;brand&quot;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;BMW&quot;</span>
<span class="p">}]</span>
<span class="err">```</span>
<span class="nx">As</span> <span class="nx">you</span> <span class="nx">might</span> <span class="nx">have</span> <span class="nx">noticed</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">implementation</span> <span class="nx">and</span> <span class="nx">server</span> <span class="nx">requests</span> <span class="nx">of</span> <span class="nx">a</span> <span class="nx">remote</span> <span class="nx">filter</span> <span class="nx">are</span> <span class="nx">similar</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">implementation</span> <span class="nx">and</span> <span class="nx">server</span> <span class="nx">requests</span> <span class="nx">of</span> <span class="nx">a</span> <span class="nx">remote</span> <span class="nx">sorter</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">limit</span> <span class="nx">parameter</span> <span class="nx">comes</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">store</span> <span class="nx">pageSize</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">page</span> <span class="nx">and</span> <span class="nx">start</span> <span class="nx">parameters</span> <span class="nx">are</span> <span class="nx">used</span> <span class="k">for</span> <span class="nx">paging</span><span class="p">.</span> <span class="nx">On</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">side</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">calculate</span> <span class="nx">which</span> <span class="nx">set</span> <span class="nx">of</span> <span class="nx">items</span> <span class="nx">you</span> <span class="nx">have</span> <span class="nx">to</span> <span class="nx">send</span> <span class="nx">back</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">client</span><span class="o">-</span><span class="nx">side</span> <span class="nx">code</span><span class="p">.</span>

<span class="nx">The</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//&lt;someurl&gt;.com/test.php requires some logic to filter their data (e.g., in a database), and send the correct set of data back.</span>

<span class="nx">The</span> <span class="nx">server</span> <span class="nx">response</span> <span class="k">for</span> <span class="nx">sending</span> <span class="nx">back</span> <span class="nx">Car</span> <span class="nx">objects</span> <span class="p">(</span><span class="k">in</span> <span class="nx">PHP</span><span class="p">)</span> <span class="nx">could</span> <span class="nx">look</span> <span class="nx">like</span> <span class="nx">Example</span> <span class="mi">9</span><span class="o">-</span> <span class="mi">6</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">names</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">success</span><span class="p">,</span> <span class="nx">total</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">results</span> <span class="nx">properties</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">set</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">store</span><span class="err">’</span><span class="nx">s</span> <span class="nx">reader</span><span class="p">.</span>
</pre></div>